import{am as M,u as P,r as p,a as u,c as h,d as i,w as r,e as t,b as s,M as e,f as v,C as F,p as U,g as Y}from"./index-5e43627d.js";import{S as q,a as J,N as K}from"./index-69b10f98.js";import{u as O}from"./useLoading-bd372935.js";import{_ as Q}from"./_plugin-vue_export-helper-c27b6911.js";import{B as z}from"./index-ace9430e.js";import"./use-placeholder-79abc75e.js";const o=d=>(U("data-v-b3b050e1"),d=d(),Y(),d),G={class:"page-signatureApplyDetail-container"},H={class:"global-msg-box"},W={class:"global-msg-item"},X=o(()=>s("span",{class:"global-msg-label"},"项目名称",-1)),Z={class:"global-msg-content"},ss={class:"global-msg-item"},ts=o(()=>s("span",{class:"global-msg-label"},"阶段",-1)),es={class:"global-msg-content"},os={class:"global-msg-item"},as=o(()=>s("span",{class:"global-msg-label"},"工作内容",-1)),ls={class:"global-msg-content"},ns={class:"global-msg-item"},cs=o(()=>s("span",{class:"global-msg-label"},"任务名称",-1)),is={class:"global-msg-content"},ds={class:"global-msg-item"},_s=o(()=>s("span",{class:"global-msg-label"},"申请专业",-1)),ms={class:"global-msg-content"},gs={class:"global-msg-item"},rs=o(()=>s("span",{class:"global-msg-label"},"申请人",-1)),bs={class:"global-msg-content"},ps={class:"global-msg-item"},us=o(()=>s("span",{class:"global-msg-label"},"申请时间",-1)),hs={class:"global-msg-content"},vs={class:"global-msg-item"},fs=o(()=>s("span",{class:"global-msg-label"},"标题",-1)),xs={class:"global-msg-content"},ks={class:"global-msg-item"},Ns=o(()=>s("span",{class:"global-msg-label"},"申请说明",-1)),Is={class:"global-msg-content"},ys={key:0,class:"global-btn-box"},Bs={class:"global-btn-fixed van-safe-area-bottom"},As={key:1,class:"global-btn-box"},Es={class:"global-btn-fixed van-safe-area-bottom"},Cs={__name:"index",setup(d){const T=M(),f=P();let{startLoading:L,stopLoading:x}=O();const{handleType:$,rowData:k}=T.query,b=k?JSON.parse(k):{},_=p({}),c=p({});let R="",j=p(!0);const N=l=>{J({title:"提示",message:`您确认${l?"同意":"拒绝"}吗`,showCancelButton:!0}).then(()=>{var m,n;L();const a={flowCollection:{table:{id:(m=b.variables)==null?void 0:m.tableId,instanceId:b.processInstanceId,tableStatus:1}},pass:l,taskId:R,planTaskId:(n=b.variables)==null?void 0:n.jobId,element:{elementId:l?"sid-13F19A8E-422B-41FF-A5B5-6D268F03EA09":"sid-B015A33F-2BAD-42A4-B32A-CA9D5C4E0EE5",nextElementName:"结束",conditionExpression:l?"${forwardLine==3}":"${forwardLine==2}",currentUserTaskName:"签名人员授权",nextElementId:"sid-EA8E36F3-F71B-4ECA-BC3D-6CD0E61A0F48",nextDocumentation:"",skipType:"1",currentUserTaskKey:"SYN_QMRY",currentIsParallel:"false",elementName:l?"同意":"拒绝"},groupId:10,isResubmit:"否"};agreeApi(a).then(g=>{if(g.success)x(),F("操作成功"),f.go(-1);else return Promise.reject(g)}).catch(()=>{x(),F("操作失败")})})};return(l,a)=>{const m=K,n=z,g=q;return u(),h("div",G,[i(m,{class:"page-notice",text:"他人正在申请您的电子签名。"}),i(g,{row:15,loading:t(j)},{default:r(()=>{var I,y,B,A,E,C,w,S,D;return[s("div",H,[s("div",W,[X,s("span",Z,e(((I=t(c))==null?void 0:I.synprjName)||""),1)]),s("div",ss,[ts,s("span",es,e(((y=t(c))==null?void 0:y.stageName)||""),1)]),s("div",os,[as,s("span",ls,e(((B=t(c))==null?void 0:B.scheduleName)||""),1)]),s("div",ns,[cs,s("span",is,e(((A=t(c))==null?void 0:A.taskName)||""),1)]),s("div",ds,[_s,s("span",ms,e(((E=t(c))==null?void 0:E.specName)||""),1)]),s("div",gs,[rs,s("span",bs,e(((C=t(_))==null?void 0:C.userName)||""),1)]),s("div",ps,[us,s("span",hs,e(((w=t(_))==null?void 0:w.time)||""),1)]),s("div",vs,[fs,s("span",xs,e(((S=t(_))==null?void 0:S.tabName)||""),1)]),s("div",ks,[Ns,s("span",Is,e(((D=t(_))==null?void 0:D.remark)||""),1)])]),t($)!=="detail"?(u(),h("div",ys,[s("div",Bs,[i(n,{type:"primary",onClick:a[0]||(a[0]=V=>N(!0))},{default:r(()=>[v("同意")]),_:1}),i(n,{type:"danger",onClick:a[1]||(a[1]=V=>N(!1))},{default:r(()=>[v("拒绝")]),_:1})])])):(u(),h("div",As,[s("div",Es,[i(n,{onClick:a[2]||(a[2]=()=>t(f).go(-1))},{default:r(()=>[v("返回")]),_:1})])]))]}),_:1},8,["loading"])])}}},$s=Q(Cs,[["__scopeId","data-v-b3b050e1"]]);export{$s as default};
