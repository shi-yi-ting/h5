import{h as ge,T as rt,s as ke,U as le,j as Se,n as ce,V as me,W as xe,r as S,X as ct,x as H,v as dt,Y as Je,Z as xt,_ as Ge,d as m,$ as De,a0 as Ae,m as pe,t as ae,a1 as je,k as jt,a2 as Ut,N as ne,a3 as $e,a4 as ut,a5 as Ne,a6 as Xe,z as Ue,a7 as Mt,q as ze,a8 as Ot,l as Re,a9 as mt,aa as Lt,o as he,F as Yt,ab as Et,I as pt,H as ee,ac as Ft,ad as ft,ae as Jt,af as qe,ag as zt,ah as Pt,ai as He,aj as Zt,ak as $t,al as Rt,a as Y,c as R,w as P,e as E,J as de,K as Te,b as f,f as se,M as J,L as ie,p as Ke,g as Qe,am as Me,C as B,D as Vt,an as vt,ao as et,ap as Wt,S as fe,u as kt,i as gt,O as It,aq as At}from"./index-ea8e790e.js";import{b as Xt,c as Bt,a as Gt,T as Ht}from"./index-5c49b0a0.js";import{s as Kt,S as Qt,a as qt,N as ea}from"./index-832f11e2.js";import{_ as bt}from"./index-13654563.js";import{_ as Ie}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as ta,P as aa}from"./baseList-09b6d1c4.js";import{a as sa}from"./axios-a22b550d.js";import"./nprogress-1325d577.js";import{u as oa}from"./useLoading-79b43786.js";import{F as yt,C as la}from"./index-2cac6786.js";import{C as na}from"./index-70831cd4.js";import{S as ia,L as ra}from"./index-a22534a3.js";import{B as _t}from"./index-af3b5cf1.js";import{F as ca}from"./index-353009e9.js";import{R as da}from"./index-999602ad.js";import"./use-id-f89c561d.js";import"./use-tab-status-5f8880a1.js";import"./use-placeholder-a0372669.js";const[ua,re,tt]=ge("picker"),Nt=e=>e.find(i=>!i.disabled)||e[0];function ma(e,i){const l=e[0];if(l){if(Array.isArray(l))return"multiple";if(i.children in l)return"cascade"}return"default"}function Ee(e,i){i=le(i,0,e.length);for(let l=i;l<e.length;l++)if(!e[l].disabled)return l;for(let l=i-1;l>=0;l--)if(!e[l].disabled)return l;return 0}const at=(e,i,l)=>i!==void 0&&!!e.find(a=>a[l.value]===i);function Be(e,i,l){const a=e.findIndex(t=>t[l.value]===i),o=Ee(e,a);return e[o]}function pa(e,i,l){const a=[];let o={[i.children]:e},t=0;for(;o&&o[i.children];){const h=o[i.children],n=l.value[t];if(o=rt(n)?Be(h,n,i):void 0,!o&&h.length){const y=Nt(h)[i.value];o=Be(h,y,i)}t++,a.push(h)}return a}function fa(e){const{transform:i}=window.getComputedStyle(e),l=i.slice(7,i.length-1).split(", ")[5];return Number(l)}function va(e){return ke({text:"text",value:"value",children:"children"},e)}const st=200,ot=300,ka=15,[ht,Ve]=ge("picker-column"),Tt=Symbol(ht);var ga=Se({name:ht,props:{value:ce,fields:me(Object),options:xe(),readonly:Boolean,allowHtml:Boolean,optionHeight:me(Number),swipeDuration:me(ce),visibleOptionNum:me(ce)},emits:["change","clickOption","scrollInto"],setup(e,{emit:i,slots:l}){let a,o,t,h,n;const y=S(),v=S(),T=S(0),_=S(0),x=ct(),N=()=>e.options.length,z=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,D=I=>{let s=Ee(e.options,I);const b=-s*e.optionHeight,C=()=>{s>N()-1&&(s=Ee(e.options,I));const A=e.options[s][e.fields.value];A!==e.value&&i("change",A)};a&&b!==T.value?n=C:C(),T.value=b},k=()=>e.readonly||!e.options.length,V=I=>{a||k()||(n=null,_.value=st,D(I),i("clickOption",e.options[I]))},L=I=>le(Math.round(-I/e.optionHeight),0,N()-1),g=H(()=>L(T.value)),Z=(I,s)=>{const b=Math.abs(I/s);I=T.value+b/.003*(I<0?-1:1);const C=L(I);_.value=+e.swipeDuration,D(C)},U=()=>{a=!1,_.value=0,n&&(n(),n=null)},p=I=>{if(!k()){if(x.start(I),a){const s=fa(v.value);T.value=Math.min(0,s-z())}_.value=0,o=T.value,t=Date.now(),h=o,n=null}},r=I=>{if(k())return;x.move(I),x.isVertical()&&(a=!0,De(I,!0));const s=le(o+x.deltaY.value,-(N()*e.optionHeight),e.optionHeight),b=L(s);b!==g.value&&i("scrollInto",e.options[b]),T.value=s;const C=Date.now();C-t>ot&&(t=C,h=s)},u=()=>{if(k())return;const I=T.value-h,s=Date.now()-t;if(s<ot&&Math.abs(I)>ka){Z(I,s);return}const C=L(T.value);_.value=st,D(C),setTimeout(()=>{a=!1},0)},O=()=>{const I={height:`${e.optionHeight}px`};return e.options.map((s,b)=>{const C=s[e.fields.text],{disabled:A}=s,G=s[e.fields.value],c={role:"button",style:I,tabindex:A?-1:0,class:[Ve("item",{disabled:A,selected:G===e.value}),s.className],onClick:()=>V(b)},j={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:C};return m("li",c,[l.option?l.option(s,b):m("div",j,null)])})};return dt(Tt),Je({stopMomentum:U}),xt(()=>{const I=a?Math.floor(-T.value/e.optionHeight):e.options.findIndex(C=>C[e.fields.value]===e.value),s=Ee(e.options,I),b=-s*e.optionHeight;a&&s<I&&U(),T.value=b}),Ge("touchmove",r,{target:y}),()=>m("div",{ref:y,class:Ve(),onTouchstartPassive:p,onTouchend:u,onTouchcancel:u},[m("ul",{ref:v,style:{transform:`translate3d(0, ${T.value+z()}px, 0)`,transitionDuration:`${_.value}ms`,transitionProperty:_.value?"all":"none"},class:Ve("wrapper"),onTransitionend:U},[O()])])}});const[Ia]=ge("picker-toolbar"),Pe={title:String,cancelButtonText:String,confirmButtonText:String},ba=["cancel","confirm","title","toolbar"],ya=Object.keys(Pe);var _a=Se({name:Ia,props:Pe,emits:["confirm","cancel"],setup(e,{emit:i,slots:l}){const a=()=>{if(l.title)return l.title();if(e.title)return m("div",{class:[re("title"),"van-ellipsis"]},[e.title])},o=()=>i("cancel"),t=()=>i("confirm"),h=()=>{var y;const v=(y=e.cancelButtonText)!=null?y:tt("cancel");if(!(!l.cancel&&!v))return m("button",{type:"button",class:[re("cancel"),Ae],onClick:o},[l.cancel?l.cancel():v])},n=()=>{var y;const v=(y=e.confirmButtonText)!=null?y:tt("confirm");if(!(!l.confirm&&!v))return m("button",{type:"button",class:[re("confirm"),Ae],onClick:t},[l.confirm?l.confirm():v])};return()=>m("div",{class:re("toolbar")},[l.toolbar?l.toolbar():[h(),a(),n()]])}});const[Na,Wo]=ge("picker-group"),ha=Symbol(Na);ke({tabs:xe(),activeTab:pe(0),nextStepText:String,showToolbar:ae},Pe);const Ta=ke({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:pe(44),showToolbar:ae,swipeDuration:pe(1e3),visibleOptionNum:pe(6)},Pe),Sa=ke({},Ta,{columns:xe(),modelValue:xe(),toolbarPosition:je("top"),columnsFieldNames:Object});var Ca=Se({name:ua,props:Sa,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:i,slots:l}){const a=S(),o=S(e.modelValue.slice(0)),{parent:t}=dt(ha),{children:h,linkChildren:n}=jt(Tt);n();const y=H(()=>va(e.columnsFieldNames)),v=H(()=>Ut(e.optionHeight)),T=H(()=>ma(e.columns,y.value)),_=H(()=>{const{columns:s}=e;switch(T.value){case"multiple":return s;case"cascade":return pa(s,y.value,o);default:return[s]}}),x=H(()=>_.value.some(s=>s.length)),N=H(()=>_.value.map((s,b)=>Be(s,o.value[b],y.value))),z=H(()=>_.value.map((s,b)=>s.findIndex(C=>C[y.value.value]===o.value[b]))),D=(s,b)=>{if(o.value[s]!==b){const C=o.value.slice(0);C[s]=b,o.value=C}},k=()=>({selectedValues:o.value.slice(0),selectedOptions:N.value,selectedIndexes:z.value}),V=(s,b)=>{D(b,s),T.value==="cascade"&&o.value.forEach((C,A)=>{const G=_.value[A];at(G,C,y.value)||D(A,G.length?G[0][y.value.value]:void 0)}),Ne(()=>{i("change",ke({columnIndex:b},k()))})},L=(s,b)=>{const C={columnIndex:b,currentOption:s};i("clickOption",ke(k(),C)),i("scrollInto",C)},g=()=>{h.forEach(b=>b.stopMomentum());const s=k();return Ne(()=>{i("confirm",s)}),s},Z=()=>i("cancel",k()),U=()=>_.value.map((s,b)=>m(ga,{value:o.value[b],fields:y.value,options:s,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:v.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:C=>V(C,b),onClickOption:C=>L(C,b),onScrollInto:C=>{i("scrollInto",{currentOption:C,columnIndex:b})}},{option:l.option})),p=s=>{if(x.value){const b={height:`${v.value}px`},C={backgroundSize:`100% ${(s-v.value)/2}px`};return[m("div",{class:re("mask"),style:C},null),m("div",{class:[Mt,re("frame")],style:b},null)]}},r=()=>{const s=v.value*+e.visibleOptionNum,b={height:`${s}px`};return m("div",{ref:a,class:re("columns"),style:b},[U(),p(s)])},u=()=>{if(e.showToolbar&&!t)return m(_a,Ue(Xe(e,ya),{onConfirm:g,onCancel:Z}),Xe(l,ba))};ne(_,s=>{s.forEach((b,C)=>{b.length&&!at(b,o.value[C],y.value)&&D(C,Nt(b)[y.value.value])})},{immediate:!0});let O;return ne(()=>e.modelValue,s=>{!$e(s,o.value)&&!$e(s,O)&&(o.value=s.slice(0),O=s.slice(0))},{deep:!0}),ne(o,s=>{$e(s,e.modelValue)||(O=s.slice(0),i("update:modelValue",O))},{immediate:!0}),Ge("touchmove",De,{target:a}),Je({confirm:g,getSelectedOptions:()=>N.value}),()=>{var s,b;return m("div",{class:re()},[e.toolbarPosition==="top"?u():null,e.loading?m(ut,{class:re("loading")},null):null,(s=l["columns-top"])==null?void 0:s.call(l),r(),(b=l["columns-bottom"])==null?void 0:b.call(l),e.toolbarPosition==="bottom"?u():null])}}});const wa=ze(Ca),[Da,ye]=ge("image"),xa={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:ce,height:ce,radius:ce,lazyLoad:Boolean,iconSize:ce,showError:ae,errorIcon:je("photo-fail"),iconPrefix:String,showLoading:ae,loadingIcon:je("photo"),crossorigin:String,referrerpolicy:String};var ja=Se({name:Da,props:xa,emits:["load","error"],setup(e,{emit:i,slots:l}){const a=S(!1),o=S(!0),t=S(),{$Lazyload:h}=Ot().proxy,n=H(()=>{const k={width:Re(e.width),height:Re(e.height)};return rt(e.radius)&&(k.overflow="hidden",k.borderRadius=Re(e.radius)),k});ne(()=>e.src,()=>{a.value=!1,o.value=!0});const y=k=>{o.value&&(o.value=!1,i("load",k))},v=()=>{const k=new Event("load");Object.defineProperty(k,"target",{value:t.value,enumerable:!0}),y(k)},T=k=>{a.value=!0,o.value=!1,i("error",k)},_=(k,V,L)=>L?L():m(pt,{name:k,size:e.iconSize,class:V,classPrefix:e.iconPrefix},null),x=()=>{if(o.value&&e.showLoading)return m("div",{class:ye("loading")},[_(e.loadingIcon,ye("loading-icon"),l.loading)]);if(a.value&&e.showError)return m("div",{class:ye("error")},[_(e.errorIcon,ye("error-icon"),l.error)])},N=()=>{if(a.value||!e.src)return;const k={alt:e.alt,class:ye("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?Yt(m("img",Ue({ref:t},k),null),[[Et("lazy"),e.src]]):m("img",Ue({ref:t,src:e.src,onLoad:y,onError:T},k),null)},z=({el:k})=>{const V=()=>{k===t.value&&o.value&&v()};t.value?V():Ne(V)},D=({el:k})=>{k===t.value&&!a.value&&T()};return h&&mt&&(h.$on("loaded",z),h.$on("error",D),Lt(()=>{h.$off("loaded",z),h.$off("error",D)})),he(()=>{Ne(()=>{var k;(k=t.value)!=null&&k.complete&&!e.lazyLoad&&v()})}),()=>{var k;return m("div",{class:ye({round:e.round,block:e.block}),style:n.value},[N(),x(),(k=l.default)==null?void 0:k.call(l)])}}});const Ua=ze(ja),Ma=ze(Kt),lt=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),Oa=e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}),We=ge("image-preview")[1],nt=2.6,La={src:String,show:Boolean,active:Number,minZoom:me(ce),maxZoom:me(ce),rootWidth:me(Number),rootHeight:me(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean};var Ya=Se({props:La,emits:["scale","close","longPress"],setup(e,{emit:i,slots:l}){const a=ee({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),o=ct(),t=S(),h=S(),n=S(!1),y=S(!1);let v=0;const T=H(()=>{const{scale:c,moveX:j,moveY:M,moving:w,zooming:d,initializing:F}=a,X={transitionDuration:d||w||F?"0s":".3s"};return(c!==1||y.value)&&(X.transform=`matrix(${c}, 0, 0, ${c}, ${j}, ${M})`),X}),_=H(()=>{if(a.imageRatio){const{rootWidth:c,rootHeight:j}=e,M=n.value?j/a.imageRatio:c;return Math.max(0,(a.scale*M-c)/2)}return 0}),x=H(()=>{if(a.imageRatio){const{rootWidth:c,rootHeight:j}=e,M=n.value?j:c*a.imageRatio;return Math.max(0,(a.scale*M-j)/2)}return 0}),N=(c,j)=>{var M;if(c=le(c,+e.minZoom,+e.maxZoom+1),c!==a.scale){const w=c/a.scale;if(a.scale=c,j){const d=ft((M=t.value)==null?void 0:M.$el),F={x:d.width*.5,y:d.height*.5},X=a.moveX-(j.x-d.left-F.x)*(w-1),te=a.moveY-(j.y-d.top-F.y)*(w-1);a.moveX=le(X,-_.value,_.value),a.moveY=le(te,-x.value,x.value)}else a.moveX=0,a.moveY=y.value?v:0;i("scale",{scale:c,index:e.active})}},z=()=>{N(1)},D=()=>{const c=a.scale>1?1:2;N(c,c===2||y.value?{x:o.startX.value,y:o.startY.value}:void 0)};let k,V,L,g,Z,U,p,r,u=!1;const O=c=>{const{touches:j}=c;if(k=j.length,k===2&&e.disableZoom)return;const{offsetX:M}=o;o.start(c),V=a.moveX,L=a.moveY,r=Date.now(),u=!1,a.moving=k===1&&(a.scale!==1||y.value),a.zooming=k===2&&!M.value,a.zooming&&(g=a.scale,Z=lt(j))},I=c=>{const{touches:j}=c;if(o.move(c),a.moving){const{deltaX:M,deltaY:w}=o,d=M.value+V,F=w.value+L;if((e.vertical?o.isVertical()&&Math.abs(F)>x.value:o.isHorizontal()&&Math.abs(d)>_.value)&&!u){a.moving=!1;return}u=!0,De(c,!0),a.moveX=le(d,-_.value,_.value),a.moveY=le(F,-x.value,x.value)}if(a.zooming&&(De(c,!0),j.length===2)){const M=lt(j),w=g*M/Z;U=Oa(j),N(w,U)}},s=c=>{var j;const M=(j=h.value)==null?void 0:j.$el;if(!M)return;const w=M.firstElementChild,d=c.target===M,F=w==null?void 0:w.contains(c.target);!e.closeOnClickImage&&F||!e.closeOnClickOverlay&&d||i("close")},b=c=>{if(k>1)return;const j=Date.now()-r,M=250;o.isTap.value&&(j<M?e.doubleScale?p?(clearTimeout(p),p=null,D()):p=setTimeout(()=>{s(c),p=null},M):s(c):j>Jt&&i("longPress"))},C=c=>{let j=!1;if((a.moving||a.zooming)&&(j=!0,a.moving&&V===a.moveX&&L===a.moveY&&(j=!1),!c.touches.length)){a.zooming&&(a.moveX=le(a.moveX,-_.value,_.value),a.moveY=le(a.moveY,-x.value,x.value),a.zooming=!1),a.moving=!1,V=0,L=0,g=1,a.scale<1&&z();const M=+e.maxZoom;a.scale>M&&N(M,U)}De(c,j),b(c),o.reset()},A=()=>{const{rootWidth:c,rootHeight:j}=e,M=j/c,{imageRatio:w}=a;n.value=a.imageRatio>M&&w<nt,y.value=a.imageRatio>M&&w>=nt,y.value&&(v=(w*c-j)/2,a.moveY=v,a.initializing=!0,Ft(()=>{a.initializing=!1})),z()},G=c=>{const{naturalWidth:j,naturalHeight:M}=c.target;a.imageRatio=M/j,A()};return ne(()=>e.active,z),ne(()=>e.show,c=>{c||z()}),ne(()=>[e.rootWidth,e.rootHeight],A),Ge("touchmove",I,{target:H(()=>{var c;return(c=h.value)==null?void 0:c.$el})}),Je({resetScale:z}),()=>{const c={loading:()=>m(ut,{type:"spinner"},null)};return m(Xt,{ref:h,class:We("swipe-item"),onTouchstartPassive:O,onTouchend:C,onTouchcancel:C},{default:()=>[l.image?m("div",{class:We("image-wrap")},[l.image({src:e.src,onLoad:G,style:T.value})]):m(Ua,{ref:t,src:e.src,fit:"contain",class:We("image",{vertical:n.value}),style:T.value,onLoad:G},c)]})}}});const[Ea,_e]=ge("image-preview"),Fa=["show","teleport","transition","overlayStyle","closeOnPopstate"],Ja={show:Boolean,loop:ae,images:xe(),minZoom:pe(1/3),maxZoom:pe(3),overlay:ae,vertical:Boolean,closeable:Boolean,showIndex:ae,className:qe,closeIcon:je("clear"),transition:String,beforeClose:Function,doubleScale:ae,overlayClass:qe,overlayStyle:Object,swipeDuration:pe(300),startPosition:pe(0),showIndicators:Boolean,closeOnPopstate:ae,closeOnClickImage:ae,closeOnClickOverlay:ae,closeIconPosition:je("top-right"),teleport:[String,Object]};var St=Se({name:Ea,props:Ja,emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:i,slots:l}){const a=S(),o=S(),t=ee({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),h=()=>{if(a.value){const g=ft(a.value.$el);t.rootWidth=g.width,t.rootHeight=g.height,a.value.resize()}},n=g=>i("scale",g),y=g=>i("update:show",g),v=()=>{Zt(e.beforeClose,{args:[t.active],done:()=>y(!1)})},T=g=>{g!==t.active&&(t.active=g,i("change",g))},_=()=>{if(e.showIndex)return m("div",{class:_e("index")},[l.index?l.index({index:t.active}):`${t.active+1} / ${e.images.length}`])},x=()=>{if(l.cover)return m("div",{class:_e("cover")},[l.cover()])},N=()=>{t.disableZoom=!0},z=()=>{t.disableZoom=!1},D=()=>m(Bt,{ref:a,lazyRender:!0,loop:e.loop,class:_e("swipe"),vertical:e.vertical,duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:T,onDragEnd:z,onDragStart:N},{default:()=>[e.images.map((g,Z)=>m(Ya,{ref:U=>{Z===t.active&&(o.value=U)},src:g,show:e.show,active:t.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:t.rootWidth,rootHeight:t.rootHeight,disableZoom:t.disableZoom,doubleScale:e.doubleScale,closeOnClickImage:e.closeOnClickImage,closeOnClickOverlay:e.closeOnClickOverlay,vertical:e.vertical,onScale:n,onClose:v,onLongPress:()=>i("longPress",{index:Z})},{image:l.image}))]}),k=()=>{if(e.closeable)return m(pt,{role:"button",name:e.closeIcon,class:[_e("close-icon",e.closeIconPosition),Ae],onClick:v},null)},V=()=>i("closed"),L=(g,Z)=>{var U;return(U=a.value)==null?void 0:U.swipeTo(g,Z)};return Je({resetScale:()=>{var g;(g=o.value)==null||g.resetScale()},swipeTo:L}),he(h),ne([zt,Pt],h),ne(()=>e.startPosition,g=>T(+g)),ne(()=>e.show,g=>{const{images:Z,startPosition:U}=e;g?(T(+U),Ne(()=>{h(),L(+U,{immediate:!0})})):i("close",{index:t.active,url:Z[t.active]})}),()=>m(He,Ue({class:[_e(),e.className],overlayClass:[_e("overlay"),e.overlayClass],onClosed:V,"onUpdate:show":y},Xe(e,Fa)),{default:()=>[k(),D(),_(),x()]})}});let Fe;const za={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function Pa(){({instance:Fe}=$t({setup(){const{state:e,toggle:i}=Rt(),l=()=>{e.images=[]};return()=>m(St,Ue(e,{onClosed:l,"onUpdate:show":i}),null)}}))}const Za=(e,i=0)=>{if(mt)return Fe||Pa(),e=Array.isArray(e)?{images:e,startPosition:i}:e,Fe.open(ke({},za,e)),Fe};ze(St);const $a={code:200,success:!0,data:[{tableId:"1810975121171734530",taskId:"fb743b73-3ea1-11ef-b24d-dadd1b34f70e",groupId:3,dataTypeId:"1638956732900316612",dataTypeCode:"LC_JS_JS",flowCategory:"LC_JS",flowGroup:"LC_JS_T",flowCode:"LC_JS_T_SJ3CS0",definitionId:"LC_JS_T_SJ3CS0:1:5ad3a120-b1c0-11ee-b469-005056a19fb5",instanceId:"fb55ddd8-3ea1-11ef-b24d-dadd1b34f70e",parentTaskNode:"设计",parentTaskUser:"1656142426961530911",parentTaskUserName:"李晨琨",parentTaskTime:"2024-07-10 17:51:30",endTime:"",comment:"管理员于2024-07-10 17:51:30发起了该申请",title:"审查送审测试（有评价清单）-071003",planTaskId:"1810974866833334273",planTaskName:"审查送审测试（有评价清单）-071003",orderNode:"设计",orderUser:"1656142426961530911",orderUserName:"李晨琨",orderNodeIsParallel:"false",sendDeptName:"电化院",sendMajorName:"供变电",isBack:"",status:1,depId:"1651911312731267110",depName:"电化院",startTime:"2024-07-10 17:51:29",operateTime:"2024-07-10 17:51:30",opinion:"",submitterRating:"",rejectedNodeName:"复核",rejectedNodeKey:"SYN_FH",rejectedUserId:"1656142426961530928",rejectedUserName:"何俊",flowName:"设计3级册审",requestCompleteDate:"",skdName:"【石本仕】协同测试计表",currentUserTaskKey:"SYN_SJ",projectClass:-1,parentId:"",taskPath:"",backboneTaskID:"",workPointId:"",workPointName:"",markIdList:"",insId:"",approvalRound:-1,isCounterSignPoint:"",handlingSuggestion:"",xtSourceType:0,xtSourceTypeCn:"",hasEvaluate:0,cjdStatus:1},{tableId:"1810975121171734530",taskId:"6250fead-3ec1-11ef-bb4a-dadd1b34f70e",groupId:3,dataTypeId:"1638956732900316612",dataTypeCode:"LC_JS_JS",flowCategory:"LC_JS",flowGroup:"LC_JS_T",flowCode:"LC_JS_T_SJ3CS0",definitionId:"LC_JS_T_SJ3CS0:1:5ad3a120-b1c0-11ee-b469-005056a19fb5",instanceId:"fb55ddd8-3ea1-11ef-b24d-dadd1b34f70e",parentTaskNode:"复核",parentTaskUser:"1656142426961530928",parentTaskUserName:"何俊",parentTaskTime:"2024-07-10 17:51:30",endTime:"",comment:"[002401]何俊于2024-07-10 21:36:17退回了该申请",title:"审查送审测试（有评价清单）-071003",planTaskId:"1810974866833334273",planTaskName:"审查送审测试（有评价清单）-071003",orderNode:"复核",orderUser:"1656142426961530928",orderUserName:"何俊",orderNodeIsParallel:"false",sendDeptName:"电化院",sendMajorName:"供变电",isBack:"",status:3,depId:"1651911312731267110",depName:"电化院",startTime:"2024-07-10 17:51:30",operateTime:"2024-07-10 21:36:17",opinion:"1、选择文件,添加针对文件的意见,否则为任务意见（建筑-2016三张图071003.dwg）。",submitterRating:"5",rejectedNodeName:"设计",rejectedNodeKey:"SYN_SJ",rejectedUserId:"1656142426961530911",rejectedUserName:"李晨琨",flowName:"设计3级册审",requestCompleteDate:"",skdName:"【石本仕】协同测试计表",currentUserTaskKey:"SYN_FH",projectClass:-1,parentId:"",taskPath:"",backboneTaskID:"",workPointId:"",workPointName:"",markIdList:"",insId:"",approvalRound:1,isCounterSignPoint:"",handlingSuggestion:"",xtSourceType:0,xtSourceTypeCn:"",hasEvaluate:0,cjdStatus:3},{tableId:"1810975121171734530",taskId:"37895358-3f1e-11ef-9b56-dadd1b34f70e",groupId:3,dataTypeId:"1638956732900316612",dataTypeCode:"LC_JS_JS",flowCategory:"LC_JS",flowGroup:"LC_JS_T",flowCode:"LC_JS_T_SJ3CS0",definitionId:"LC_JS_T_SJ3CS0:1:5ad3a120-b1c0-11ee-b469-005056a19fb5",instanceId:"fb55ddd8-3ea1-11ef-b24d-dadd1b34f70e",parentTaskNode:"设计",parentTaskUser:"1656142426961530911",parentTaskUserName:"李晨琨",parentTaskTime:"2024-07-10 21:36:17",endTime:"",comment:"[006353]李晨琨于2024-07-11 08:40:49已处理该申请",title:"审查送审测试（有评价清单）-071003",planTaskId:"1810974866833334273",planTaskName:"审查送审测试（有评价清单）-071003",orderNode:"设计",orderUser:"1656142426961530911",orderUserName:"李晨琨",orderNodeIsParallel:"false",sendDeptName:"电化院",sendMajorName:"供变电",isBack:"",status:2,depId:"1651911312731267110",depName:"电化院",startTime:"2024-07-10 21:36:17",operateTime:"2024-07-11 08:40:49",opinion:"1、回复内容（建筑-2016三张图071003.dwg）。",submitterRating:"5",rejectedNodeName:"复核",rejectedNodeKey:"SYN_FH",rejectedUserId:"1656142426961530928",rejectedUserName:"何俊",flowName:"设计3级册审",requestCompleteDate:"",skdName:"【石本仕】协同测试计表",currentUserTaskKey:"SYN_SJ",projectClass:-1,parentId:"",taskPath:"",backboneTaskID:"",workPointId:"",workPointName:"",markIdList:"",insId:"",approvalRound:1,isCounterSignPoint:"",handlingSuggestion:"",xtSourceType:0,xtSourceTypeCn:"",hasEvaluate:0,cjdStatus:2}],msg:"操作成功"};const Ct=e=>(Ke("data-v-f4f2ffba"),e=e(),Qe(),e),Ra={class:"page-container"},Va={key:0,class:"global-msg-box global-progress-box"},Wa=Ct(()=>f("div",{class:"global-msg-item global-progress-item"},[f("div",{class:"global-msg-label"},[se(" [环节] "),f("br"),se(" 处理人 ")]),f("div",{class:"global-msg-content"},"处理意见")],-1)),Aa={class:"global-msg-label"},Xa=Ct(()=>f("br",null,null,-1)),Ba={class:"global-msg-content"},Ga={__name:"ReviewProgress",props:{tableId:{type:String,default:""},groupId:{type:String,default:"3"}},setup(e){const i={1:"发起申请",2:"通过",3:"退回",4:"处理",5:"已办结",8:"未处理"},l=S(!1),a=S([]);return(()=>{const t=$a;{let h=t.data.length;h&&t.data[h-1].rejectedNodeName&&t.data[h-1].rejectedNodeName!=="结束"&&t.data[h-1].rejectedUserName.split(",").forEach(y=>{t.data.push({orderNode:t.data[h-1].rejectedNodeName,orderUserName:y})}),a.value=t.data}})(),(t,h)=>{const n=bt,y=Qt;return Y(),R("div",Ra,[m(y,{row:15,loading:E(l)},{default:P(()=>[E(a).length?(Y(),R("div",Va,[Wa,(Y(!0),R(de,null,Te(E(a),(v,T)=>(Y(),R("div",{class:"global-msg-item",key:T},[f("div",Aa,[se(" ["+J(v.orderNode)+"] ",1),Xa,se(" "+J(v.orderUserName),1)]),f("div",Ba,J(v.status?"【"+i[v.status]+"】":"")+J(v.comment),1)]))),128))])):(Y(),ie(n,{key:1}))]),_:1},8,["loading"])])}}},Ha=Ie(Ga,[["__scopeId","data-v-f4f2ffba"]]),Ka={code:200,success:!0,data:{id:"1810974866833334273",createUserId:"1630147223142383618",createUserName:"管理员",createDate:"2024-07-10 17:50:30",updateUserId:"1630147223142383618",updateUserName:"管理员",updateDate:"2024-07-10 17:51:30",recordFlag:1,scheduleId:"1796090118281613314",parentId:"0",synprjId:"1791341402100314114",synprjCode:"CT504901SS12",synprjName:"协同设计系统用户测试项目0516",planId:"1791341403215998977",planCode:"CH015048",tmplId:-1,tmplName:"",tmplCode:"",dataTypeId:-1,dataTypeClass:-1,dataTypeCode:"",dataTypeCate:"",dataTypeGroup:"",taskType:2,syc:-1,taskClass:"",taskCate:"",taskGroup:"2",taskName:"审查送审测试（有评价清单）-071003",taskCode:"aac3851a73361b4",taskKey:"",taskContent:"",ztzCode:"0010020000003920",ownerRoleCode:"SYN_SJ",createRoleCode:"",taskPath:"1810974866833334273",scheduledStart:"2024-07-10",scheduledEnd:"2024-07-10",dateStart:"",dateEnd:"",dateDelivery:"",dateDeliEnd:"",taskProgress:-1,sortNumber:-1,permId:-1,taskProgressStatus:1,taskStatus:2,auditStatus:1,checkStatus:2,notSubmitted:0,underApproval:0,noPass:0,havePassed:0,stageId:"1791315218003726337",stageNo:"27",stageName:"施工图",solutionId:-1,solutionNo:"",solutionName:"",specId:"1651544623471407108",specNo:"BD",specName:"供变电",deptId:"1651911312731267110",deptNo:"0034000014",deptName:"电化院",deptMajorId:"1651567632982773797",taskFlag:"00000000000000000000000000000000",remark:"",lineType:"",scheduleName:"",standardTaskName:"",dataPacketName:"",dataSynEntityList:[],beforeAdjustScheduledEnd:"",waitAdjustScheduledEnd:"",adjustDecomposeStatus:-1,isAutoComposeDrawing:1,signatureStatus:-1,taskSubType:10,planTasklinkList:[{id:"1810974875381325825",createUserId:"1656142426961530911",createUserName:"李晨琨",createDate:"2024-07-10 17:50:31",updateUserId:"1656142426961530911",updateUserName:"李晨琨",updateDate:"2024-07-10 17:50:31",recordFlag:1,linkType:2,linkTypeCode:"JOB_APPROVE_FLOW",planId:-1,planCode:"",planTaskId:"1810974866833334273",planTaskCode:"",linkSpid:"",linkCate:"",linkGroup:"",linkId:"1810974873170927617",linkCode:"1810974873028321281",linkName:"审查送审测试（有评价清单）-071003",linkKey:"",linkValue:"",sortNumber:-1,linkFlag:"",remark:"",linkKeyName:""},{id:"1810974875721064450",createUserId:-1,createUserName:"",createDate:"",updateUserId:-1,updateUserName:"",updateDate:"",recordFlag:1,linkType:5,linkTypeCode:"",planId:-1,planCode:"CH015048",planTaskId:"1810974866833334273",planTaskCode:"aac3851a73361b4",linkSpid:"",linkCate:"9",linkGroup:"待送审",linkId:"1656142426961530911",linkCode:"006353",linkName:"李晨琨",linkKey:"2024-07-10 17:50:31",linkValue:"2024-07-10 17:51:30",sortNumber:1,linkFlag:"",remark:"",linkKeyName:""},{id:"1810975123101114369",createUserId:-1,createUserName:"",createDate:"",updateUserId:-1,updateUserName:"",updateDate:"",recordFlag:1,linkType:5,linkTypeCode:"",planId:-1,planCode:"CH015048",planTaskId:"1810974866833334273",planTaskCode:"aac3851a73361b4",linkSpid:"",linkCate:"9",linkGroup:"待送审",linkId:"1656142426961530911",linkCode:"006353",linkName:"李晨琨",linkKey:"2024-07-10 17:51:30",linkValue:"2024-07-10 21:36:17",sortNumber:2,linkFlag:"",remark:"",linkKeyName:""},{id:"1810974872399175681",createUserId:"1630147223142383618",createUserName:"管理员",createDate:"2024-07-10 17:50:30",updateUserId:"1630147223142383618",updateUserName:"管理员",updateDate:"2024-07-10 17:50:30",recordFlag:1,linkType:8,linkTypeCode:"",planId:-1,planCode:"",planTaskId:"1810974866833334273",planTaskCode:"aac3851a73361b4",linkSpid:"",linkCate:"",linkGroup:"",linkId:"1674086053936463875",linkCode:"TXSSBD[3]-1-2",linkName:"设计原则",linkKey:"",linkValue:"",sortNumber:-1,linkFlag:"",remark:"",linkKeyName:""},{id:"1810974872436924418",createUserId:"1630147223142383618",createUserName:"管理员",createDate:"2024-07-10 17:50:30",updateUserId:"1630147223142383618",updateUserName:"管理员",updateDate:"2024-07-10 17:50:30",recordFlag:1,linkType:0,linkTypeCode:"SYN_ZC",planId:-1,planCode:"",planTaskId:"1810974866833334273",planTaskCode:"aac3851a73361b4",linkSpid:"",linkCate:"1651567632982773797",linkGroup:"供变电",linkId:"1656142426961530911",linkCode:"006353",linkName:"李晨琨",linkKey:"1651544623471407108",linkValue:"",sortNumber:-1,linkFlag:"",remark:"",linkKeyName:""},{id:"1810974872525004802",createUserId:"1630147223142383618",createUserName:"管理员",createDate:"2024-07-10 17:50:30",updateUserId:"1630147223142383618",updateUserName:"管理员",updateDate:"2024-07-10 17:50:30",recordFlag:1,linkType:0,linkTypeCode:"SYN_SJ",planId:-1,planCode:"",planTaskId:"1810974866833334273",planTaskCode:"aac3851a73361b4",linkSpid:"",linkCate:"",linkGroup:"",linkId:"1656142426961530911",linkCode:"006353",linkName:"李晨琨",linkKey:"",linkValue:"",sortNumber:-1,linkFlag:"",remark:"",linkKeyName:""},{id:"1810974872571142146",createUserId:"1630147223142383618",createUserName:"管理员",createDate:"2024-07-10 17:50:30",updateUserId:"1630147223142383618",updateUserName:"管理员",updateDate:"2024-07-10 17:50:30",recordFlag:1,linkType:0,linkTypeCode:"SYN_FH",planId:-1,planCode:"",planTaskId:"1810974866833334273",planTaskCode:"aac3851a73361b4",linkSpid:"",linkCate:"",linkGroup:"",linkId:"1656142426961530928",linkCode:"002401",linkName:"何俊",linkKey:"",linkValue:"",sortNumber:-1,linkFlag:"",remark:"",linkKeyName:""},{id:"1810974872688582658",createUserId:"1630147223142383618",createUserName:"管理员",createDate:"2024-07-10 17:50:30",updateUserId:"1630147223142383618",updateUserName:"管理员",updateDate:"2024-07-10 17:50:30",recordFlag:1,linkType:1,linkTypeCode:"JOB_FOLLOW_MAJOR",planId:-1,planCode:"",planTaskId:"1810974866833334273",planTaskCode:"aac3851a73361b4",linkSpid:"",linkCate:"",linkGroup:"",linkId:"1651567632915664918",linkCode:"LJ",linkName:"地路院_地路",linkKey:"101",linkValue:"",sortNumber:-1,linkFlag:"",remark:"",linkKeyName:""},{id:"1810974872692776962",createUserId:"1630147223142383618",createUserName:"管理员",createDate:"2024-07-10 17:50:30",updateUserId:"1630147223142383618",updateUserName:"管理员",updateDate:"2024-07-10 17:50:30",recordFlag:1,linkType:1,linkTypeCode:"JOB_FOLLOW_MAJOR",planId:-1,planCode:"",planTaskId:"1810974866833334273",planTaskCode:"aac3851a73361b4",linkSpid:"",linkCate:"",linkGroup:"",linkId:"1651567632848556057",linkCode:"XL",linkName:"线站院_线路",linkKey:"101",linkValue:"",sortNumber:-1,linkFlag:"",remark:"",linkKeyName:""},{id:"1810975122752987138",createUserId:"1630147223142383618",createUserName:"管理员",createDate:"2024-07-10 17:51:30",updateUserId:"1630147223142383618",updateUserName:"管理员",updateDate:"2024-07-10 17:51:30",recordFlag:1,linkType:11,linkTypeCode:"JOB_CHK_FLOW",planId:-1,planCode:"",planTaskId:"1810974866833334273",planTaskCode:"",linkSpid:"",linkCate:"",linkGroup:"",linkId:"1810975121171734530",linkCode:"LC_JS_T_SJ3CS0",linkName:"审查送审测试（有评价清单）-071003",linkKey:"",linkValue:"1",sortNumber:-1,linkFlag:"",remark:"",linkKeyName:""},{id:"1811198932479594497",createUserId:-1,createUserName:"",createDate:"",updateUserId:-1,updateUserName:"",updateDate:"",recordFlag:1,linkType:5,linkTypeCode:"",planId:-1,planCode:"37895358-3f1e-11ef-9b56-dadd1b34f70e",planTaskId:"1810974866833334273",planTaskCode:"aac3851a73361b4",linkSpid:"1810975121171734530",linkCate:"2",linkGroup:"送审流程",linkId:"1656142426961530928",linkCode:"002401",linkName:"何俊",linkKey:"2024-07-11 08:40:50",linkValue:"",sortNumber:0,linkFlag:"",remark:"",linkKeyName:""},{id:"1811031692987854850",createUserId:-1,createUserName:"",createDate:"",updateUserId:-1,updateUserName:"",updateDate:"",recordFlag:1,linkType:5,linkTypeCode:"",planId:-1,planCode:"6250fead-3ec1-11ef-bb4a-dadd1b34f70e",planTaskId:"1810974866833334273",planTaskCode:"aac3851a73361b4",linkSpid:"1810975121171734530",linkCate:"2",linkGroup:"送审流程",linkId:"1656142426961530911",linkCode:"006353",linkName:"李晨琨",linkKey:"2024-07-10 21:36:17",linkValue:"2024-07-11 08:40:50",sortNumber:1,linkFlag:"",remark:"",linkKeyName:""}],planTaskAttr:{id:"1810974866833334273",sf1:"",sf2:"",sf3:"1",sf4:"T",sf5:"2024-07-10 05:50:30",sf6:"LC_JS_T_SJ3CS0",sf7:"",sf8:"",sf9:"",sf10:"",sf11:"",sf12:"",sf13:"0",sf14:"",sf15:"0",sf16:"",sf17:"",sf18:"",sf19:"设计3级册审",sf20:"",sf21:"",sf22:"",sf23:"",sf24:"A",sf25:"",sf26:"",sf27:"1",sf28:"1656142426961530928",sf29:"006353",sf30:"何俊",sf31:"",sf32:"",sf33:"",sf34:"",sf35:"",sf36:"",sf37:"",sf38:"",sf39:"",sf40:""},projectType:1,projectTypeName:"铁路(T) ",projectClass:1,projectClassName:"院控",taskTypeName:"提交资料",receive:[{deptName:"地路院",majorName:"地路"},{deptName:"线站院",majorName:"线路"}],taskGroupName:"普通任务",sysJobType:"",serialNumber:"0338",onlineTime:"2024-05-30 15:00:33",auditStatusName:"未提交",linkFileCount:"1",linkDataFlag:"0",responsibleUnit:"经计部",personLiable:"李晨琨",workContent:"【石本仕】协同测试计表",sf3Name:"一般",sf6Name:"",parentName:"",countersign:[],completeTaskCount:"",taskCount:"",designers:"李晨琨",reviewers:"何俊",flow:{},submissionProcess:{id:"1810975122752987138",createUserId:"1630147223142383618",createUserName:"管理员",createDate:"2024-07-10 17:51:30",updateUserId:"1630147223142383618",updateUserName:"管理员",updateDate:"2024-07-10 17:51:30",recordFlag:1,linkType:11,linkTypeCode:"JOB_CHK_FLOW",planId:-1,planCode:"",planTaskId:"1810974866833334273",planTaskCode:"",linkSpid:"",linkCate:"",linkGroup:"",linkId:"1810975121171734530",linkCode:"LC_JS_T_SJ3CS0",linkName:"审查送审测试（有评价清单）-071003",linkKey:"",linkValue:"1",sortNumber:-1,linkFlag:"",remark:""},plotTemplate:{},evaluationCheck:{id:"1810974872399175681",createUserId:"1630147223142383618",createUserName:"管理员",createDate:"2024-07-10 17:50:30",updateUserId:"1630147223142383618",updateUserName:"管理员",updateDate:"2024-07-10 17:50:30",recordFlag:1,linkType:8,linkTypeCode:"",planId:-1,planCode:"",planTaskId:"1810974866833334273",planTaskCode:"aac3851a73361b4",linkSpid:"",linkCate:"",linkGroup:"",linkId:"1674086053936463875",linkCode:"TXSSBD[3]-1-2",linkName:"设计原则",linkKey:"",linkValue:"",sortNumber:-1,linkFlag:"",remark:""},preconditions:[],planTaskFileList:[],hasLinkAchievements:!1,hasReview:!1,hasSubmitTask:!1,hasViewProgress:!1,reviewProcess:"设计，复核，专册",link7Name:"",childrenFlag:!1,handlerId:"1656142426961530928",handlerName:"何俊",currentLinkName:"复核",projectCode12:"CT504901SS12",xbTableId:-1},msg:"操作成功"},Qa={code:200,success:!0,data:[{optName:"图纸",optValue:"T"},{optName:"文件",optValue:"S"},{optName:"模型",optValue:"M"},{optName:"其它",optValue:"Q"}],msg:"操作成功"},qa={code:200,success:!0,data:["SYN_SJ","SYN_FH","SYN_ZC","SYN_JSSZR"],msg:"操作成功"},es={code:200,success:!0,data:{title:"审查送审测试（有评价清单）-071003",remark:"",submittedPeople:"李晨琨",submittedDate:"2024-07-10 17:51:29",sf2:"审查送审测试（有评价清单）-071003",sf3:"",sf4:"复核:何俊; 专册:李晨琨; 总体:",sf5:"建筑-2016三张图071003.dwg",sf6:"1",sf7:"电化院",sf8:"2024-07-11 08:40:50",sf9:"1",sf10:"1、回复内容（建筑-2016三张图071003.dwg）。",sf11:"施工图",sf12:"铁路(T) ",sf13:"【石本仕】协同测试计表",sf14:"提交资料",sf15:"aac3851a73361b4",sf16:"",sf17:"设计原则",sf18:"TXSSBD[3]-1-2",sf19:"2024-07-10 00:00:00",sf21:"1810975000384167937",sf30:"",sf31:"5",expectedReviewDate:"",tabId:"1810975121171734530"},msg:"操作成功"},ts={code:200,success:!0,data:{records:[{node:"复核",markId:"1811204714461876225",markContent:"回复",createDate:"2024-07-11 09:03:49",createUserId:"1656142426961530928",createUserName:"何俊",yxqzNumber:"",relevancyCheckNumber:"0",markState:0,tableId:"1810975121171734530",synMarkreplyEntityList:[],replyCount:0,markType:-1,qtMark:{},cycleIndex:0,fileId:"1810975000384167937",fileName:"建筑-2016三张图071003.dwg",fileActualVersion:1,xtSourceType:5,xtSourceTypeCn:"来自手机端"},{node:"复核",markId:"1811031209086808065",markContent:"选择文件,添加针对文件的意见,否则为任务意见",createDate:"2024-07-10 21:34:22",createUserId:"1656142426961530928",createUserName:"何俊",yxqzNumber:"",relevancyCheckNumber:"0",markState:3,tableId:"1810975121171734530",synMarkreplyEntityList:[{id:"1811198882353467393",createUserId:"1656142426961530911",createUserName:"李晨琨",createDate:"2024-07-11 08:40:38",updateUserId:"1656142426961530911",updateUserName:"李晨琨",updateDate:"2024-07-11 08:40:38",recordFlag:1,spid:"",replyType:0,replyCode:"",markId:"1811031209086808065",markCode:"",markMajorId:-1,markMajorCode:"",markMajorName:"",replyMajorId:-1,replyMajorCode:"",replyMajorName:"",replyUserId:-1,replyUserCode:"",replyUserName:"",dateReply:"2024-07-11T08:40:38",replyContent:"回复内容",replyVisualize:"",replyStatus:-1,replyFlag:"",projectId:-1,projectNo:"",stageId:-1,stageNo:"",solutionId:-1,solutionNo:"",specId:-1,specNo:"",siteId:-1,siteNo:""}],replyCount:1,markType:-1,qtMark:{},cycleIndex:1,fileId:"1810975000384167937",fileName:"建筑-2016三张图071003.dwg",fileActualVersion:1,xtSourceType:5,xtSourceTypeCn:"来自手机端"}],total:2,size:10,current:1,orders:[],optimizeCountSql:!0,searchCount:!0,countId:"",maxLimit:-1,pages:1},msg:"操作成功"},as={code:200,success:!0,data:{mark:{id:"1811204714461876225",createUserId:"1656142426961530928",createUserName:"何俊",createDate:"2024-07-11 09:03:49",updateUserId:"1656142426961530928",updateUserName:"何俊",updateDate:"2024-07-17 10:24:38",recordFlag:1,spid:"",markType:0,markTypeCode:"",markMajorId:-1,markMajorCode:"",markMajorName:"",markUserId:"1656142426961530928",markToUserId:-1,markUserCode:"",markUserName:"",dataType:-1,dataId:-1,dataName:"",dataKey:"",markName:"",markCode:"",markClass:-1,markContent:"回复",markVisualize:"",markStatus:0,markFlag:"",projectId:-1,projectNo:"",stageId:-1,stageNo:"",solutionId:-1,solutionNo:"",specId:-1,specNo:"",siteId:-1,siteNo:"",fileId:"1810975000384167937",fileName:"建筑-2016三张图071003.dwg",fileGroup:-1,cycleIndex:0,isQt:"",tabName:"",tableId:"",flowNodeName:"复核",xtSourceType:5},qtMark:{},markAtt:[],markReplies:{},tabId:"1810975121171734530",scgfId:"",scgfName:"",scgfContent:"",revisionCloud:{},instanceId:"fb55ddd8-3ea1-11ef-b24d-dadd1b34f70e",taskId:"1810974866833334273",addType:""},msg:"操作成功"},we={access_token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5hbnRfaWQiOiIwMDAwMDAiLCJhY3R1YWxfZGVwdF9pZCI6IjE2NTE5MTEzMTM3ODQwMzc0NjAiLCJ1c2VyX25hbWUiOiIwMDI0MDEiLCJyZWFsX25hbWUiOiLkvZXkv4oiLCJjbGllbnRfaWQiOiJzeW5lcmd5LWNsaWVudCIsInJvbGVfaWQiOiIxNjU1ODM0ODQ2OTY3OTM5MDY2IiwicG9zdF9uYW1lIjoiIiwic2NvcGUiOlsiYWxsIl0sIm9hdXRoX2lkIjoiIiwiZXhwIjoxNzIxMjAzNDkwLCJqdGkiOiI4ZGY3ODkyNS01NTI3LTQwODUtYjEzMi03ZGQ5ZDFkNzYwZWYiLCJyb2xlX2NvZGUiOiJTWU5fRkgiLCJyb2xlX2lkX2xpc3QiOiIxNjU1ODM0MzYyODkwNzMxNTIyLDE2NTU4MzQ0Nzc2MjE3MjMxMzgsMTY1NTgzNDg0Njk2NzkzOTA3MywxNjU1ODM0NjE2NDQ0Nzk2OTI5LDE2NTU4MzQ4NDY5Njc5MzkwNjYiLCJkZXB0X25hbWUiOiLnlLXljJbpmaIiLCJhdmF0YXIiOiIiLCJhY3R1YWxfZGVwdF9uYW1lIjoi5L6b5Y-Y55S15omAIiwicm9sZV9uYW1lIjoi5aSN5qC4IiwibGljZW5zZSI6InBvd2VyZWQgYnkgY3Jpc2RzLXN5bmVyZ3kiLCJwb3N0X2lkIjoiIiwidXNlcl9pZCI6IjE2NTYxNDI0MjY5NjE1MzA5MjgiLCJyb2xlX2NvZGVfbGlzdCI6IlNZTl9GWkMsU1lOX1NKLFNZTl9GSCxTWU5fWlQsU1lOX1pDIiwibmlja19uYW1lIjoi5L2V5L-KIiwiZGV0YWlsIjp7InBob25lIjoiNTExODg3NzciLCJlbWFpbCI6IiIsImRlcHRzIjpbeyJpZCI6IjE2NTE5MTEzMTI3MzEyNjcxMTAiLCJuYW1lIjoi55S15YyW6ZmiIiwiY29kZSI6IjAwMzQwMDAwMTQiLCJzZWxlY3RlZCI6dHJ1ZSwicHJvamVjdF9yb2xlcyI6W3siaWQiOiIxNjU1ODM0ODQ2OTY3OTM5MDY2IiwibmFtZSI6IuWkjeaguCIsImNvZGUiOiJTWU5fRkgifSx7ImlkIjoiMTY1NTgzNDQ3NzYyMTcyMzEzOCIsIm5hbWUiOiLlia_kuJPlhowiLCJjb2RlIjoiU1lOX0ZaQyJ9LHsiaWQiOiIxNjU1ODM0ODQ2OTY3OTM5MDczIiwibmFtZSI6IuiuvuiuoeS6uuWRmCIsImNvZGUiOiJTWU5fU0oifSx7ImlkIjoiMTY1NTgzNDM2Mjg5MDczMTUyMiIsIm5hbWUiOiLkuJPlhowiLCJjb2RlIjoiU1lOX1pDIn0seyJpZCI6IjE2NTU4MzQ2MTY0NDQ3OTY5MjkiLCJuYW1lIjoi5oC75L2TIiwiY29kZSI6IlNZTl9aVCJ9XSwidXNlcl9yb2xlcyI6W10sImFjdHVhbF9kZXB0Ijp7ImlkIjoiMTY1MTkxMTMxMzc4NDAzNzQ2MCIsIm5hbWUiOiLkvpvlj5jnlLXmiYAiLCJjb2RlIjoiMDAzNDAwMDQ5OCJ9fV19LCJkZXB0X2lkIjoiMTY1MTkxMTMxMjczMTI2NzExMCIsImFjY291bnQiOiIwMDI0MDEifQ.MTG_G5YXvJzlAqOoimgwomEtYRqOAzlgGUpZ-D1ge6A",token_type:"bearer",refresh_token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5hbnRfaWQiOiIwMDAwMDAiLCJhY3R1YWxfZGVwdF9pZCI6IjE2NTE5MTEzMTM3ODQwMzc0NjAiLCJ1c2VyX25hbWUiOiIwMDI0MDEiLCJyZWFsX25hbWUiOiLkvZXkv4oiLCJjbGllbnRfaWQiOiJzeW5lcmd5LWNsaWVudCIsInJvbGVfaWQiOiIxNjU1ODM0ODQ2OTY3OTM5MDY2IiwicG9zdF9uYW1lIjoiIiwic2NvcGUiOlsiYWxsIl0sImF0aSI6IjhkZjc4OTI1LTU1MjctNDA4NS1iMTMyLTdkZDlkMWQ3NjBlZiIsIm9hdXRoX2lkIjoiIiwiZXhwIjoxNzIxNDQxMDg5LCJqdGkiOiI3ZDE0MThhOS00ZjM3LTRkN2YtOGQyMy1hNGI0NjdhODMwODQiLCJyb2xlX2NvZGUiOiJTWU5fRkgiLCJyb2xlX2lkX2xpc3QiOiIxNjU1ODM0MzYyODkwNzMxNTIyLDE2NTU4MzQ0Nzc2MjE3MjMxMzgsMTY1NTgzNDg0Njk2NzkzOTA3MywxNjU1ODM0NjE2NDQ0Nzk2OTI5LDE2NTU4MzQ4NDY5Njc5MzkwNjYiLCJkZXB0X25hbWUiOiLnlLXljJbpmaIiLCJhdmF0YXIiOiIiLCJhY3R1YWxfZGVwdF9uYW1lIjoi5L6b5Y-Y55S15omAIiwicm9sZV9uYW1lIjoi5aSN5qC4IiwibGljZW5zZSI6InBvd2VyZWQgYnkgY3Jpc2RzLXN5bmVyZ3kiLCJwb3N0X2lkIjoiIiwidXNlcl9pZCI6IjE2NTYxNDI0MjY5NjE1MzA5MjgiLCJyb2xlX2NvZGVfbGlzdCI6IlNZTl9GWkMsU1lOX1NKLFNZTl9GSCxTWU5fWlQsU1lOX1pDIiwibmlja19uYW1lIjoi5L2V5L-KIiwiZGV0YWlsIjp7InBob25lIjoiNTExODg3NzciLCJlbWFpbCI6IiIsImRlcHRzIjpbeyJpZCI6IjE2NTE5MTEzMTI3MzEyNjcxMTAiLCJuYW1lIjoi55S15YyW6ZmiIiwiY29kZSI6IjAwMzQwMDAwMTQiLCJzZWxlY3RlZCI6dHJ1ZSwicHJvamVjdF9yb2xlcyI6W3siaWQiOiIxNjU1ODM0ODQ2OTY3OTM5MDY2IiwibmFtZSI6IuWkjeaguCIsImNvZGUiOiJTWU5fRkgifSx7ImlkIjoiMTY1NTgzNDQ3NzYyMTcyMzEzOCIsIm5hbWUiOiLlia_kuJPlhowiLCJjb2RlIjoiU1lOX0ZaQyJ9LHsiaWQiOiIxNjU1ODM0ODQ2OTY3OTM5MDczIiwibmFtZSI6IuiuvuiuoeS6uuWRmCIsImNvZGUiOiJTWU5fU0oifSx7ImlkIjoiMTY1NTgzNDM2Mjg5MDczMTUyMiIsIm5hbWUiOiLkuJPlhowiLCJjb2RlIjoiU1lOX1pDIn0seyJpZCI6IjE2NTU4MzQ2MTY0NDQ3OTY5MjkiLCJuYW1lIjoi5oC75L2TIiwiY29kZSI6IlNZTl9aVCJ9XSwidXNlcl9yb2xlcyI6W10sImFjdHVhbF9kZXB0Ijp7ImlkIjoiMTY1MTkxMTMxMzc4NDAzNzQ2MCIsIm5hbWUiOiLkvpvlj5jnlLXmiYAiLCJjb2RlIjoiMDAzNDAwMDQ5OCJ9fV19LCJkZXB0X2lkIjoiMTY1MTkxMTMxMjczMTI2NzExMCIsImFjY291bnQiOiIwMDI0MDEifQ.JElZtXbpvfyKOkvQvHr_14pakI26GZEC6B3jcTDJ-dI",expires_in:21600,scope:"all",tenant_id:"000000",actual_dept_id:"1651911313784037460",user_name:"002401",role_code:"SYN_FH",role_id_list:"1655834362890731522,1655834477621723138,1655834846967939073,1655834616444796929,1655834846967939066",dept_name:"电化院",real_name:"何俊",avatar:"",actual_dept_name:"供变电所",client_id:"synergy-client",role_name:"复核",license:"powered by crisds-synergy",post_id:"",user_id:"1656142426961530928",role_id:"1655834846967939066",post_name:"",role_code_list:"SYN_FZC,SYN_SJ,SYN_FH,SYN_ZT,SYN_ZC",nick_name:"何俊",oauth_id:"",detail:{phone:"51188777",email:"",depts:[{id:"1651911312731267110",name:"电化院",code:"0034000014",selected:!0,project_roles:[{id:"1655834846967939066",name:"复核",code:"SYN_FH"},{id:"1655834477621723138",name:"副专册",code:"SYN_FZC"},{id:"1655834846967939073",name:"设计人员",code:"SYN_SJ"},{id:"1655834362890731522",name:"专册",code:"SYN_ZC"},{id:"1655834616444796929",name:"总体",code:"SYN_ZT"}],user_roles:[],actual_dept:{id:"1651911313784037460",name:"供变电所",code:"0034000498"}}]},dept_id:"1651911312731267110",account:"002401",jti:"8df78925-5527-4085-b132-7dd9d1d760ef"},ss={code:200,success:!0,data:[{id:"1810975000384167937",fileName:"建筑-2016三张图071003.dwg",fileVer:"V1",sf10:"0",fileSize:-1,numberOfOpinions:1,filePath:"",tabId:"1810975121171734530",fileType:"",verIllustrate:"",drawingSize:-1,fileCreated:"",taskId:-1,linkTaskTime:"2024-07-10 17:51:18"}],msg:"操作成功"},os={code:200,success:!0,data:"0,2",msg:"操作成功"},ls={code:200,success:!0,data:{id:-1,synTableInsEntity:{id:-1,createUserId:-1,createUserName:"",createDate:"",updateUserId:-1,updateUserName:"",updateDate:"",recordFlag:-1,spid:"",fileType:"",tabType:"1",dataId:"1674078958805680129",stageValue:"",tabName:"设计原则",tabCode:"TXSSBD1H002",tabKey:"",tabContent:"",tabSytle:"",tabStatus:-1,tableFlag:"",projectId:-1,projectNo:"",stageId:"1791315218003726337",stageNo:"",stageName:"施工图",solutionId:-1,solutionNo:"",specId:"1651544623471407108",specNo:"",specName:"供变电",siteId:-1,siteNo:"",positionId:"1655834846967939066",positiionName:"复核",cycleIndex:1,objectiveScore:100,subjectiveScor:-1},synTabInsLinkEntity:[{id:-1,createUserId:-1,createUserName:"",createDate:"",updateUserId:-1,updateUserName:"",updateDate:"",recordFlag:-1,spid:"",linkType:1,linkTypeCode:"",tabId:-1,tabName:"",tabCode:"",linkSpid:"",linkId:"1674083798164275217",linkCode:"",linkName:"设计原则",linkValue:"牵引供电系统设计原则及供电方案是否准确",linkFlag:"",minDeductScore:1,maxDeductScore:40,deductScore:0,sortNumber:-1},{id:-1,createUserId:-1,createUserName:"",createDate:"",updateUserId:-1,updateUserName:"",updateDate:"",recordFlag:-1,spid:"",linkType:1,linkTypeCode:"",tabId:-1,tabName:"",tabCode:"",linkSpid:"",linkId:"1674083798164275218",linkCode:"",linkName:"设计原则",linkValue:"牵引变电所、分区所、AT所、开闭所及电力调度所是否准确",linkFlag:"",minDeductScore:1,maxDeductScore:40,deductScore:0,sortNumber:-1},{id:-1,createUserId:-1,createUserName:"",createDate:"",updateUserId:-1,updateUserName:"",updateDate:"",recordFlag:-1,spid:"",linkType:1,linkTypeCode:"",tabId:-1,tabName:"",tabCode:"",linkSpid:"",linkId:"1674083798164275219",linkCode:"",linkName:"设计原则",linkValue:"牵引变电接口工程设计原则及界面划分是否准确",linkFlag:"",minDeductScore:1,maxDeductScore:10,deductScore:0,sortNumber:-1},{id:-1,createUserId:-1,createUserName:"",createDate:"",updateUserId:-1,updateUserName:"",updateDate:"",recordFlag:-1,spid:"",linkType:1,linkTypeCode:"",tabId:-1,tabName:"",tabCode:"",linkSpid:"",linkId:"1674083798164275220",linkCode:"",linkName:"设计原则",linkValue:"施工注意事项是否准确",linkFlag:"",minDeductScore:1,maxDeductScore:10,deductScore:0,sortNumber:-1}]},msg:"操作成功"};const ns={class:"page-list-box"},is={class:"global-msg-label"},rs={class:"global-msg-content"},cs={__name:"taskDetails",setup(e){const i=Me(),l=S(void 0);function a(){const t=ee({list:[],formState:void 0,optionsOutcomeType:[],defPersonFields:[],flowTabattr:{}}),h=async T=>{var _,x,N,z;try{const{success:D=!1,data:k={}}=es;D?(t.flowTabattr=k,t.flowTabattr.submittedDate=(x=(_=t.flowTabattr)==null?void 0:_.submittedDate)==null?void 0:x.slice(0,10),t.flowTabattr.sf19=(z=(N=t.flowTabattr)==null?void 0:N.sf19)==null?void 0:z.slice(0,10)):t.flowTabattr={}}catch({message:D}){B(D)}},n=T=>{try{const _=qa;if(_.success)return _.data}catch{}},y=async()=>{var T,_,x,N,z,D,k,V;try{t.formState=void 0;const L=Ka;if(L.success){if(t.formState=L.data,L.data.planTaskAttr.sf6){const g=await n(L.data.planTaskAttr.sf6);t.defPersonFields=g}(_=(T=L.data)==null?void 0:T.submissionProcess)!=null&&_.linkId&&await h(L.data.submissionProcess.linkId),t.list=[[{name:"项目名称",isShow:!0,value:t.formState.synprjName||"--"},{name:"项目阶段",isShow:!0,value:t.formState.stageName||"--"},{name:"工作内容",all:!0,isShow:!0,value:t.formState.workContent||"--"},{name:"任务名称",isShow:!0,value:t.formState.taskName||"--"},{name:"任务类型",isShow:!0,value:t.formState.taskTypeName||"--"},{name:"计划完成时间",isShow:!0,value:t.formState.scheduledEnd},{name:"校审流程",isShow:!0,value:t.formState.planTaskAttr.sf19||"--"}],[{name:"是否会签",isShow:!0,value:t.formState.planTaskAttr.sf15==="0"?"否":"是"},{name:"成果类型",isShow:!0,value:((x=t.optionsOutcomeType.find(g=>{var Z,U;return g.optValue===((U=(Z=t.formState)==null?void 0:Z.planTaskAttr)==null?void 0:U.sf4)}))==null?void 0:x.optName)||"--"}],[{name:"设计人",isShow:t.formState.designers,isSlot:!0,key:"sj",value:t.formState.designers||"--"},{name:"复核人",isShow:t.formState.reviewers,value:t.formState.reviewers||"--"},{name:"专册",isShow:!t.formState.planTaskAttr.sf6||t.defPersonFields&&t.defPersonFields.includes("SYN_ZC"),value:t.formState.planTasklinkList.filter(g=>g.linkTypeCode==="SYN_ZC").map(g=>g.linkName).join(";")},{name:"处总",isShow:!t.formState.planTaskAttr.sf6||t.defPersonFields&&t.defPersonFields.includes("SYN_ZYCZ"),value:t.formState.planTasklinkList.filter(g=>g.linkTypeCode==="SYN_ZYCZ").map(g=>g.linkName).join(";")||"--"},{name:"总体",isShow:!t.formState.planTaskAttr.sf6||t.defPersonFields&&t.defPersonFields.includes("SYN_ZT"),value:t.formState.planTasklinkList.filter(g=>g.linkTypeCode==="SYN_ZT").map(g=>g.linkName).join(";")||"--"},{name:"分管院总",isShow:!t.formState.planTaskAttr.sf6||t.defPersonFields&&t.defPersonFields.includes("SYN_FGYZONG"),value:t.formState.planTasklinkList.filter(g=>g.linkTypeCode==="SYN_FGYZONG").map(g=>g.linkName).join(";")||"--"},{name:"专业院总",isShow:!t.formState.planTaskAttr.sf6||t.defPersonFields&&t.defPersonFields.includes("SYN_ZYYZ"),value:t.formState.planTasklinkList.filter(g=>g.linkTypeCode==="SYN_ZYYZ").map(g=>g.linkName).join(";")||"--"}],[{name:"送审单位",isShow:!0,value:((N=t.flowTabattr)==null?void 0:N.sf7)||"--"},{name:"送审人",isShow:!0,value:((z=t.flowTabattr)==null?void 0:z.submittedPeople)||"--"},{name:"送审专业",isShow:!0,value:((D=t.formState)==null?void 0:D.specName)||"--"},{name:"送审日期",isShow:!0,value:((k=t.flowTabattr)==null?void 0:k.submittedDate)||"--"},{name:"交付日期",isShow:!0,value:((V=t.flowTabattr)==null?void 0:V.sf19)||"--"}]]}}catch(L){B(L)}},v=async()=>{try{t.optionsOutcomeType=[];const T=Qa;t.optionsOutcomeType=T.data}catch{}};return he(async()=>{l.value=i.query.rowData?JSON.parse(i.query.rowData):void 0,await v(),await y()}),{state:t}}const{state:o}=a();return(t,h)=>(Y(),R("div",ns,[(Y(!0),R(de,null,Te(E(o).list,(n,y)=>(Y(),R("div",{key:y,class:"global-msg-box mb20"},[(Y(!0),R(de,null,Te(n,v=>(Y(),R("div",{key:v.value,class:"global-msg-item"},[f("span",is,J(v.name),1),f("span",rs,J(v.value),1)]))),128))]))),128))]))}},ds=Ie(cs,[["__scopeId","data-v-4c14321f"]]);const us={__name:"index",props:{isLine:{type:Boolean,default:!0},text:{type:String,default:"按钮"},color:{type:String,default:""}},setup(e){return(i,l)=>(Y(),R("span",{class:"btn-text-box van-haptics-feedback",style:vt("color:"+e.color)},[f("a",{class:Vt(e.isLine?"btn-text":"")},J(e.text),3)],4))}},wt=Ie(us,[["__scopeId","data-v-4f101fd0"]]),ms=()=>{sa(`${window.origin}/static/file/pdf/××站立面图.pdf`,{responseType:"blob"}).then(e=>{let i=new Blob([e.data],{type:"application/pdf"}),l=document.createElement("a");l.href=window.URL.createObjectURL(i),l.setAttribute("download","××站立面图.pdf"),l.click()})},ps={code:200,success:!0,data:{link:"http://192.10.50.64:9100/synergy/upload/20240625/e70757c69949ba0db9af661ab7d845b3.pdf",name:"upload/20240625/e70757c69949ba0db9af661ab7d845b3.pdf",hash:"1223315171",length:447854,putTime:"2024-06-25 09:36:28",contentType:"application/octet-stream"},msg:"操作成功"},it=(e,i)=>{if(!e){B("此记录暂无文件，无法预览！");return}let l=["xmind","csv","rvt","pdf","ppt","pptx","doc","docx","xls","xlsx","txt","json","xlsm","csv","xlt","xltm","wps","xml","drawio","glb","zip","rar","jar","tar","gzip","7z"],a=["png","jpg","jpeg","gif","bmp","webp"],o=[...l,...a].includes(i);if(i==="dwg")et.push({path:"/dwg",query:{filePath:e}});else if(o){let{startLoading:t,stopLoading:h}=oa();t();const{success:n,data:y}=ps;if(n)if(h(),a.includes(i))Za({images:[y.link],closeable:!0,maxZoom:10,minZoom:.2});else{let v=new window.ytCryptoJS.byCryptoJS.Basic().Base64(y.link),T="api/synergy-base/api/onlinePreviewServer/onlinePreview?officePreviewType=pdf&url=";et.push({path:"/iframe",query:{filePath:T+encodeURIComponent(v)}})}else return Promise.reject()}else Wt(`当前格式不支持预览：${i}`)};const fs={class:"page-signatureApply-container"},vs={class:"page-list-box"},ks={class:"global-lists-box"},gs={class:"global-lists-list-left van-ellipsis"},Is={class:"global-lists-list-right"},bs={__name:"file",setup(e){var o;const i=Me(),l=S(void 0);l.value=i.query.rowData?JSON.parse(i.query.rowData):{};const a=ee({tableFlowId:(o=l==null?void 0:l.value)==null?void 0:o.tableId,taskId:l==null?void 0:l.value.taskId,content:""});return(t,h)=>{const n=wt;return Y(),R("div",fs,[f("div",vs,[m(ta,{ref:"refBaseList",params:E(a),pageInter:()=>{},type:"file"},{default:P(({dataList:y})=>[f("div",ks,[(Y(!0),R(de,null,Te(y,(v,T)=>(Y(),R("div",{key:T,class:"global-lists-list"},[f("div",gs,J(v.fileName),1),f("div",Is,[v.hasContainDwg?(Y(),ie(n,{key:0,text:"dwg",onClick:_=>E(it)(v.dwgFilePath,"dwg")},null,8,["onClick"])):fe("",!0),m(n,{text:"预览",onClick:_=>E(it)(v.filePath,v.fileExt)},null,8,["onClick"]),m(n,{text:"下载",onClick:_=>E(ms)(v.filePath,v.fileName)},null,8,["onClick"])])]))),128))])]),_:1},8,["params"])])])}}},ys=Ie(bs,[["__scopeId","data-v-1d9d75fc"]]);const Oe=e=>(Ke("data-v-28834225"),e=e(),Qe(),e),_s={class:"page-advice-container"},Ns={class:"page-content"},hs={class:"global-list-card-gray"},Ts={class:"global-list-item"},Ss=Oe(()=>f("span",{class:"global-list-item-title"},"环节(人)：",-1)),Cs={class:"global-list-item-content van-ellipsis text_left"},ws={class:"global-list-item"},Ds=Oe(()=>f("span",{class:"global-list-item-title"},"意见内容：",-1)),xs={class:"global-list-item-content van-ellipsis text_left"},js={class:"global-list-item"},Us=Oe(()=>f("span",{class:"global-list-item-title"},"回复内容：",-1)),Ms={class:"global-list-item-content van-ellipsis text_left"},Os={class:"global-list-item"},Ls=Oe(()=>f("span",{class:"global-list-item-title"},"送审文件：",-1)),Ys={class:"global-list-item-content van-ellipsis text_left"},Es={class:"global-list-item"},Fs=Oe(()=>f("span",{class:"global-list-item-title"},"创建时间：",-1)),Js={class:"global-list-item-content van-ellipsis text_left"},zs={class:"addAdvice-wrap"},Ps={class:"page-select-wrap"},Zs={class:"page-input-wrap mt15"},$s={key:0,class:"page-input-wrap mt15"},Rs={class:"btn-wrap"},Vs={__name:"advice",emits:["getDatas"],setup(e,{emit:i}){const l=S(!1),a=S(!1),o=S(!1),t=Me();kt();const h=S(void 0),n=S(void 0),y=S(void 0),v=S("add"),T=S(!0),_=S({}),x=S(!1),N=ee({mark:{},remark:"",checked:"2",qtx:"",qtxContent:"",jcx:null,optionType:"1",replyContent:"",updateDate:"",updateUserName:""}),z=()=>{x.value=!0,v.value="add",T.value=!1,n.value="1",N.remark="",N.replyContent="",N.updateDate="",N.updateUserName=""},D=()=>{var d,F,X,te,K,Q,$,q,oe,ve,be,ue,Le,Ye;(d=_==null?void 0:_.value)==null||d.markId;const w=as;N.remark=(X=(F=w.data)==null?void 0:F.mark)==null?void 0:X.markContent,w.data.markReplies&&((te=w.data.markReplies)!=null&&te.id)&&(N.replyContent=(Q=(K=w.data)==null?void 0:K.markReplies)==null?void 0:Q.replyContent,N.updateDate=(q=($=w.data)==null?void 0:$.markReplies)==null?void 0:q.updateDate,N.updateUserName=(ve=(oe=w.data)==null?void 0:oe.markReplies)==null?void 0:ve.updateUserName),(be=w.data)!=null&&be.mark&&((Le=(ue=w.data)==null?void 0:ue.mark)!=null&&Le.fileName)&&(u.fileName=w.data.mark.fileName,s.fileName=w.data.mark.fileName,s.fileId=w.data.mark.fileId),N.mark=(Ye=w.data)==null?void 0:Ye.mark},k=w=>{n.value=void 0,_.value=w,v.value="edit",T.value=!1,N.replyContent="",N.updateDate="",N.updateUserName="",D(),n.value="3"},V=i;function L(){const w=ee({current:0,size:10}),d=S([]);return{page:w,dataList:d,getAdviceList:async()=>{var X,te;l.value=!0,w.current,w.size,(X=h.value)==null||X.tableId;try{const K=ts;if(K.success){K.data.records.forEach($=>{$.relevancyCheckNumber?$.relevancyCheckNumber=$.relevancyCheckNumber:$.relevancyCheckNumber=0,$.markState==3?$.isMarkState=!0:$.isMarkState=!1,$.disabled=we.user_id!==$.createUserId});let Q=K.data.records.map($=>({...$,fileActualVersion:$.fileActualVersion===-1?"":"v"+$.fileActualVersion}));d.value.push(...Q),x.value=!0,a.value=d.value.length>=((te=K.data)==null?void 0:te.total),l.value=!1,o.value=!1,V("getDatas",d.value)}}catch{l.value=!1,o.value=!1,a.value=!0,x.value=!1}}}}const{page:g,dataList:Z,getAdviceList:U}=L(),p=()=>{N.mark.id,qt({title:"提示",message:"确定要执行此操作?",showCancelButton:!0}).then(async()=>{var w;try{B("你点击了删除")}catch(d){B((w=d==null?void 0:d.data)==null?void 0:w.msg)}})};function r(){const w=S(!1),d=ee({fileList:[]}),F=ee({file:""}),X=ee({fileName:"",fileId:""}),te=async()=>{var Q,$;(Q=h.value)==null||Q.tableId,F.fileName="",d.fileList=[];try{const q=ss;q.success&&(($=q.data)!=null&&$.length)&&(d.fileList=q.data.map(oe=>({text:oe.fileName,value:oe.id})))}catch{}},K=({selectedOptions:Q})=>{var q,oe,ve;F.fileName=(q=Q[0])==null?void 0:q.text;const $=d.fileList.filter(be=>{var ue;return be.text===((ue=Q[0])==null?void 0:ue.text)});X.fileName=(oe=$[0])==null?void 0:oe.text,X.fileId=(ve=$[0])==null?void 0:ve.value,w.value=!1};return he(()=>{h.value=t.query.rowData?JSON.parse(t.query.rowData):void 0,n.value=t.query.showType,y.value=t.query.isBack,te()}),{q:F,options:d,showPicker:w,otherInfo:X,onConfirm:K}}const{q:u,options:O,showPicker:I,otherInfo:s,onConfirm:b}=r();function C(){return{onFinish:async()=>{B("你点击了保存")}}}const{onFinish:A}=C(),G=()=>{N.remark="",u.fileName="",s.fileName="",s.fileId="",v.value="add",T.value=!0,Z.value=[],U()},c=()=>{I.value=!1,u.fileName="",s.fileName="",s.fileId=""},j=()=>{g.current+=1,U()},M=()=>{a.value=!1,g.current=1,Z.value=[],U()};return he(()=>{U()}),(w,d)=>{const F=_t,X=ia,te=na,K=ra,Q=aa,$=yt,q=wt,oe=wa,ve=He,be=ea,ue=la,Le=ca,Ye=bt;return Y(),R("div",_s,[f("div",Ns,[v.value==="add"?(Y(),ie(F,{key:0,type:"primary",class:"btn-addAdvice",onClick:d[0]||(d[0]=W=>z())},{default:P(()=>[se(" 添加意见 ")]),_:1})):fe("",!0),x.value?(Y(),R(de,{key:1},[T.value?(Y(),ie(Q,{key:0,modelValue:o.value,"onUpdate:modelValue":d[2]||(d[2]=W=>o.value=W),onRefresh:M},{default:P(()=>[m(K,{loading:l.value,"onUpdate:loading":d[1]||(d[1]=W=>l.value=W),finished:a.value,onLoad:j},{default:P(()=>[(Y(!0),R(de,null,Te(E(Z),(W,Dt)=>(Y(),ie(te,{key:Dt,border:!1,onClick:Ze=>k(W)},{default:P(()=>[m(X,null,{default:P(()=>{var Ze;return[f("div",hs,[f("div",Ts,[Ss,f("span",Cs,J(W.node||"")+"("+J(W.createUserName||"")+") ",1)]),f("div",ws,[Ds,f("span",xs,J(W.markContent||""),1)]),f("div",js,[Us,f("span",Ms,J(W.synMarkreplyEntityList.length?(Ze=W.synMarkreplyEntityList[0])==null?void 0:Ze.replyContent:""),1)]),f("div",Os,[Ls,f("span",Ys,J(W.fileName||""),1)]),f("div",Es,[Fs,f("span",Js,J(W.createDate||""),1)])])]}),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])):(Y(),R(de,{key:1},[f("div",zs,[m(Le,{required:"auto"},{default:P(()=>[f("div",Ps,[m($,{modelValue:E(u).fileName,"onUpdate:modelValue":d[3]||(d[3]=W=>E(u).fileName=W),disabled:v.value==="edit"&&(E(we).user_id!==_.value.createUserId||N.replyContent!==""),"is-link":"",readonly:"",name:"picker",placeholder:"请选择送审文件",onClick:d[4]||(d[4]=W=>I.value=!0)},null,8,["modelValue","disabled"]),m(ve,{show:E(I),"onUpdate:show":d[6]||(d[6]=W=>gt(I)?I.value=W:null),position:"bottom"},{default:P(()=>[m(oe,{columns:E(O).fileList,onConfirm:E(b),onCancel:d[5]||(d[5]=W=>I.value=!1)},{title:P(()=>[m(q,{text:"清空",isLine:!1,color:"red",onClick:c})]),_:1},8,["columns","onConfirm"])]),_:1},8,["show"])]),m(be,{style:{display:"flex","justify-content":"center"},text:"选择文件，添加针对文件的意见，否则为任务意见！",scrollable:!1}),f("div",Zs,[m(ue,{inset:""},{default:P(()=>[m($,{modelValue:N.remark,"onUpdate:modelValue":d[7]||(d[7]=W=>N.remark=W),disabled:v.value==="edit"&&(E(we).user_id!==_.value.createUserId||N.replyContent!==""),center:"",rows:"2",autosize:"",label:"批注意见",type:"textarea",placeholder:"意见内容（不能为空）","label-align":"top",rules:[{required:!0}]},null,8,["modelValue","disabled"])]),_:1})]),N.replyContent?(Y(),R("div",$s,[m(ue,{inset:""},{default:P(()=>[m($,{modelValue:N.replyContent,"onUpdate:modelValue":d[8]||(d[8]=W=>N.replyContent=W),center:"",rows:"2",autosize:"",label:"回复内容",type:"textarea","label-align":"top",disabled:!0},null,8,["modelValue"])]),_:1})])):fe("",!0)]),_:1})]),f("div",Rs,[m(F,{type:"primary",disabled:v.value==="edit"&&(E(we).user_id!==_.value.createUserId||N.replyContent!==""),class:"btn agree",onClick:d[9]||(d[9]=W=>E(A)())},{default:P(()=>[se(" 保存 ")]),_:1},8,["disabled"]),v.value==="edit"?(Y(),ie(F,{key:0,type:"danger",disabled:v.value==="edit"&&(E(we).user_id!==_.value.createUserId||N.replyContent!==""),class:"btn agree",onClick:d[10]||(d[10]=W=>p())},{default:P(()=>[se(" 删除 ")]),_:1},8,["disabled"])):fe("",!0),m(F,{class:"btn refuse",onClick:G},{default:P(()=>[se("取消")]),_:1})])],64))],64)):(Y(),ie(Ye,{key:2}))])])}}},Ws=Ie(Vs,[["__scopeId","data-v-28834225"]]);const Ce=e=>(Ke("data-v-c9937c5e"),e=e(),Qe(),e),As={class:"page-evaluate-container"},Xs={class:"page-content"},Bs={class:"global-msg-box mb20"},Gs={class:"global-msg-item"},Hs=Ce(()=>f("span",{class:"global-msg-label"},"清单编码",-1)),Ks={class:"global-msg-content"},Qs={class:"global-msg-item"},qs=Ce(()=>f("span",{class:"global-msg-label"},"清单名称",-1)),eo={class:"global-msg-content"},to={class:"global-msg-box mb20"},ao={key:0,class:"global-msg-item"},so=Ce(()=>f("span",{class:"global-msg-content page-border-right"}," 最终得分(70%*客观分+30%*主观分) ",-1)),oo={class:"global-msg-label",style:{border:"none"}},lo={key:1,class:"global-msg-item"},no=Ce(()=>f("span",{class:"global-msg-content page-border-right"}," 主观分(0-100) ",-1)),io={class:"global-msg-label"},ro={key:2,class:"global-msg-item"},co=Ce(()=>f("span",{class:"global-msg-content page-border-right"}," 客观分(0-100分)=100-min(单项扣分*错误项数,最高扣分) ",-1)),uo={class:"global-msg-label"},mo={class:"table-wrap"},po={class:"data-box"},fo=Ce(()=>f("div",{class:"th-row",style:{display:"flex"}},[f("div",{class:"flex_center width_80"},"检查项"),f("div",{class:"flex_center width_auto"},"检查内容"),f("div",{class:"flex_center width_50"},"单项/最高扣分"),f("div",{class:"flex_center width_65"},"错误项数/扣分")],-1)),vo=["onClick"],ko=["onClick"],go=["onClick"],Io={class:"flex_center width_65 common-ellipsis page-input"},bo={class:"tip-wrap"},yo={__name:"evaluate",setup(e,{expose:i}){var Z;const l=Me(),{userInfo:a}=It(),o=S(void 0);o.value=l.query.rowData?JSON.parse(l.query.rowData):{};const t=S(void 0);t.value=(Z=l==null?void 0:l.query)==null?void 0:Z.showType;const h=S(""),n=S(!1),y=S(!1),v=S(!1),T=H(()=>{var U,p;return(((U=D==null?void 0:D.synTableInsEntity)==null?void 0:U.objectiveScore)||0)*.7+(((p=D==null?void 0:D.synTableInsEntity)==null?void 0:p.subjectiveScor)||0)*.3}),_=S(""),x=S({});S(0),S(0);const N=ee({config:{vuescroll:{},scrollPanel:{},rail:{keepShow:!0},bar:{hoverStyle:!0,onlyShowBarOnScroll:!1,background:"#F5F5F5",opacity:.5,"overflow-y":"hidden"}}});function z(){const U=S(!1),p=S(""),r=ee({synTableInsEntity:{},list:[]}),u=async()=>{var s,b,C,A,G,c,j,M,w;(s=o==null?void 0:o.value)==null||s.tableId,(b=o==null?void 0:o.value)==null||b.planTaskId,t.value;try{r.synTableInsEntity={},r.list=[];const d=ls;d.success&&((A=(C=d.data)==null?void 0:C.synTabInsLinkEntity)!=null&&A.length)&&(h.value.includes("3")?(y.value=!0,n.value=!0,v.value=!0):h.value.includes("2")?((G=o==null?void 0:o.value)==null?void 0:G.auditState)==="3"&&a.user_id===((c=o.value)==null?void 0:c.handlerId)?(y.value=!1,n.value=!1,v.value=!0):(y.value=!0,n.value=!0,v.value=!0):(y.value=!1,n.value=!1,v.value=!0),_.value=d.data.id,(j=d.data)!=null&&j.synTabInsLinkEntity.length&&(d.data.synTableInsEntity.subjectiveScor=d.data.synTableInsEntity.subjectiveScor<0?100:d.data.synTableInsEntity.subjectiveScor,d.data.synTableInsEntity.objectiveScore=d.data.synTableInsEntity.objectiveScore<=0?0:d.data.synTableInsEntity.objectiveScore,d.data.synTabInsLinkEntity.forEach((F,X)=>{F.objectiveScoreCli=0,F.serial_number=X+1,F.type==="objectives"&&(F.deductScore=d.data.synTableInsEntity.objectiveScore),F.type==="subjectivity"&&(F.deductScore=d.data.synTableInsEntity.subjectiveScor),F.type==="ultimately"&&(F.deductScore=(Number(d.data.synTableInsEntity.objectiveScore*.7)+Number(d.data.synTableInsEntity.subjectiveScor*.3)).toFixed(2))}),r.list=(M=d.data)==null?void 0:M.synTabInsLinkEntity,r.synTableInsEntity=(w=d.data)==null?void 0:w.synTableInsEntity))}catch{}},O=(s,b)=>{s!=""&&(b==1||(p.value=s),U.value=!0)},I=async()=>{try{const s=os;h.value=s.data}catch({message:s}){}};return he(async()=>{await I(),await u()}),{table:r,showContent:O}}const{table:D,showContent:k}=z();function V(){const U=S(!1);return{isShowDialog:U,showDialog:r=>{if(x.value=r,Number(r.deductScore)===0){r.deductScore=0;const O=D.list.reduce((I,s)=>Number(s.deductScore)+I,0);D.synTableInsEntity.objectiveScore=100-Number(O)>0?100-Number(O):0;return}Number(r.deductScore)<r.minDeductScore&&(U.value=!0,r.deductScore=r.minDeductScore),Number(r.deductScore)>r.maxDeductScore&&(U.value=!0,r.deductScore=r.maxDeductScore);const u=D.list.reduce((O,I)=>Number(I.deductScore)+O,0);D.synTableInsEntity.objectiveScore=100-Number(u)>0?100-Number(u):0}}}const{isShowDialog:L,showDialog:g}=V();return i({table:D,id:_}),(U,p)=>{var b,C,A,G;const r=yt,u=At("vue-scroll"),O=da,I=He,s=Ma;return Y(),R("div",As,[f("div",Xs,[f("div",Bs,[f("div",Gs,[Hs,f("span",Ks,J((b=E(D).synTableInsEntity)==null?void 0:b.tabCode),1)]),f("div",Qs,[qs,f("span",eo,J((C=E(D).synTableInsEntity)==null?void 0:C.tabName),1)])]),f("div",to,[y.value?(Y(),R("div",ao,[so,f("span",oo,J(T.value||0),1)])):fe("",!0),n.value?(Y(),R("div",lo,[no,f("span",io,[m(r,{modelValue:E(D).synTableInsEntity.subjectiveScor,"onUpdate:modelValue":p[0]||(p[0]=c=>E(D).synTableInsEntity.subjectiveScor=c),type:"number",label:E(D).synTableInsEntity.subjectiveScor,border:!0},null,8,["modelValue","label"])])])):fe("",!0),v.value?(Y(),R("div",ro,[co,f("span",uo,J(((G=(A=E(D))==null?void 0:A.synTableInsEntity)==null?void 0:G.objectiveScore)||0),1)])):fe("",!0)]),f("div",mo,[m(u,{ops:N,style:{width:"100%",height:"100%"}},{default:P(()=>[f("div",po,[fo,(Y(!0),R(de,null,Te(E(D).list,(c,j)=>(Y(),R("div",{key:j,class:"td-row",style:vt({background:j%2==0?"#fff":"#f9f9f9"})},[f("div",{class:"flex_center width_80 common-ellipsis",onClick:M=>E(k)(c.linkName)},J(c.linkName),9,vo),f("div",{class:"flex_center width_auto common-ellipsis",onClick:M=>E(k)(c.linkValue)},J(c.linkValue),9,ko),f("div",{class:"flex_center width_50 common-ellipsis",onClick:M=>E(k)(c.minDeductScore)},J(c.minDeductScore)+"/ "+J(c.maxDeductScore),9,go),f("div",Io,[m(r,{modelValue:c.deductScore,"onUpdate:modelValue":M=>c.deductScore=M,type:"number",label:c.deductScore,border:!0,onBlur:M=>E(g)(c)},null,8,["modelValue","onUpdate:modelValue","label","onBlur"])])],4))),128))])]),_:1},8,["ops"]),m(I,{modelValue:U.showPopup,"onUpdate:modelValue":p[1]||(p[1]=c=>U.showPopup=c),class:"hidden-wrap"},{default:P(()=>[m(O,{class:"hidden-content"},{default:P(()=>[se(J(U.ellContent),1)]),_:1})]),_:1},8,["modelValue"])])]),m(s,{show:E(L),"onUpdate:show":p[2]||(p[2]=c=>gt(L)?L.value=c:null),title:"注意"},{default:P(()=>[f("div",bo," 可输入范围在"+J(x.value.minDeductScore)+"-"+J(x.value.maxDeductScore)+"之间；超出"+J(x.value.maxDeductScore)+"取"+J(x.value.maxDeductScore)+"，小于"+J(x.value.minDeductScore)+"取"+J(x.value.minDeductScore)+"；0除外。 ",1)]),_:1},8,["show"])])}}},_o=Ie(yo,[["__scopeId","data-v-c9937c5e"]]);const No={class:"page-checkDetail-container"},ho={class:"page-content"},To={class:"global-btn-box"},So={class:"global-btn-fixed van-safe-area-bottom"},Co={__name:"index",setup(e){var L,g,Z,U;const{userInfo:i}=It(),l=kt(),a=Me(),o=S(void 0);o.value=(L=a==null?void 0:a.query)!=null&&L.rowData?JSON.parse(a.query.rowData):void 0;const t=S(void 0);t.value=(g=a==null?void 0:a.query)==null?void 0:g.showType;const h=S(void 0);h.value=(Z=a==null?void 0:a.query)==null?void 0:Z.isBack;const n=ee({activeKey:0,opinionList:[],opinion:"",isShowEvaluationChecklist:!0,showSubmitType:1,showSubmit:!1,flowStatusObj:{},fileData:[],isRule:""});(async()=>{var p,r;try{const u={tabId:(p=o==null?void 0:o.value)==null?void 0:p.tableId,flowTaskId:(r=o==null?void 0:o.value)==null?void 0:r.planTaskId,buttonType:t.value==="1"?1:0},O=await showEvaluationChecklistNewApi(u);n.isShowEvaluationChecklist=O.data}catch({message:u}){}})(),(async p=>{const r={groupId:3};try{const u=await getFlowNodeInfoApi(r,p);n.flowStatusObj=u.data}catch({message:u}){}})((U=o==null?void 0:o.value)==null?void 0:U.tableId);const T=async(p,r)=>{var u;p={current:1,size:1e3,tableFlowId:(u=o==null?void 0:o.value)==null?void 0:u.tableId,taskId:o==null?void 0:o.value.taskId,content:"",...p};try{const{success:O=!1,data:{records:I=[],total:s=0}}=await queryAssociatedFilesByTabIdApi(p);if(O)return!!(I&&I.length>0)}catch({message:O}){}},_=async()=>{var r;const p={id:(r=o==null?void 0:o.value)==null?void 0:r.tableId};try{const u=await clientIsHandleApi(p);if(u.success)return u.data}catch({message:u}){}},x=(p,r)=>{Ne(()=>{if(p!=null&&p.table.synTableInsEntity.subjectiveScor&&(p==null?void 0:p.table.synTableInsEntity.subjectiveScor)!=="0")n.showSubmitType=r,n.showSubmit=!0;else{n.activeKey=3,B("请输入评价清单主观分！");return}})},N=async()=>{var r;const p={tableId:(r=o.value)==null?void 0:r.tableId};try{const u=await getAdviceListApi(p);if(u.success)return u.data.records&&u.data.records.length>0?h.value===4?!0:u.data.records.some(O=>O.createUserId===i.user_id&&O.markState!==3):!1}catch({message:u}){}},z=async()=>{var r;const p={id:(r=o==null?void 0:o.value)==null?void 0:r.tableId};try{const u=clientIsReplyApi(p);if(u.success)return u.data}catch({message:u}){}},D=p=>{n.opinionList=p},k=S(),V=async p=>{if(p===2){const r=n.opinionList.filter(u=>{var O;return u.markState!==3&&((O=o.value)==null?void 0:O.currentLinkName)===u.node});if(r.length!==0){const u=[...r].reverse(),O=`${u.map((I,s)=>`${s+1}、${I.markContent}${I.fileName?u.length===s+1?`（${I.fileName}）。`:`（${I.fileName}）；`:u.length===s+1?"。":"；"}`).join("")}`;n.opinion=O}else n.opinion=""}else if(p===3){const r=n.opinionList.filter(u=>u.markState!==3);if(r.length!==0){const u=[...r].reverse(),O=`${u.map((I,s)=>{var b;return`${s+1}、${(b=I.synMarkreplyEntityList[0])==null?void 0:b.replyContent}${I.fileName?u.length===s+1?`（${I.fileName}）。`:`（${I.fileName}）；`:u.length===s+1?"。":"；"}`}).join("")}`;n.opinion=O}else n.opinion=""}else n.opinion="";if(t.value==="1")if(n.isShowEvaluationChecklist)if(p===1)if(await T())try{await _()===1?k.value?x(k.value,p):(n.activeKey=3,setTimeout(()=>{x(k.value,p)},1e3)):(n.activeKey=2,B("您有未确认的修改意见，请退回修改"))}catch(u){B(u.message)}else B("没有关联文件");else N().then(r=>{r?k.value?x(k.value,p):(n.activeKey=3,setTimeout(()=>{x(k.value,p)},1e3)):(n.activeKey=2,B("请先新增意见后再退回修改"))});else p===1?_().then(r=>{r===1?(n.showSubmitType=p,n.showSubmit=!0):(n.activeKey=2,B("您有未确认的修改意见，请退回修改"))}):N().then(r=>{r?(n.showSubmitType=p,n.showSubmit=!0):(n.activeKey=2,B("请先新增意见后再退回修改"))});else t.value==="2"?p===2?N().then(r=>{r?(n.showSubmitType=p,n.showSubmit=!0):(n.activeKey=2,B("请先新增意见后再退回修改"))}):T().then(r=>{r?z().then(u=>{u===1?(n.showSubmitType=p,n.showSubmit=!0):(n.activeKey=2,B("您有未回复的意见请回复完再提交"))}):B("没有关联文件")}):t.value==="4"&&p===2&&N().then(r=>{r?(n.showSubmitType=p,n.showSubmit=!0):(n.activeKey=2,B("请先新增意见后再退回修改"))})};return(p,r)=>{const u=Ht,O=Gt,I=_t;return Y(),R("div",No,[f("div",ho,[m(O,{active:n.activeKey,"onUpdate:active":r[0]||(r[0]=s=>n.activeKey=s),sticky:""},{default:P(()=>[m(u,{title:"任务详情"},{default:P(()=>[m(ds)]),_:1}),m(u,{title:"关联文件"},{default:P(()=>[m(ys)]),_:1}),m(u,{title:"审查意见"},{default:P(()=>[m(Ws,{onGetDatas:D})]),_:1}),n.isShowEvaluationChecklist?(Y(),ie(u,{key:0,title:"评价清单"},{default:P(()=>[m(_o,{ref_key:"evaluate",ref:k},null,512)]),_:1})):fe("",!0),m(u,{title:"审查进度"},{default:P(()=>[m(Ha,{tableId:E(o).tableId},null,8,["tableId"])]),_:1})]),_:1},8,["active"]),f("div",To,[f("div",So,[E(a).query.handleType==="detail"?(Y(),ie(I,{key:0,text:"返回",onClick:r[1]||(r[1]=s=>E(l).go(-1))})):(Y(),R(de,{key:1},[m(I,{type:"primary",onClick:r[2]||(r[2]=s=>V(1))},{default:P(()=>[se(" 同意送审 ")]),_:1}),m(I,{type:"danger",onClick:r[3]||(r[3]=s=>V(2))},{default:P(()=>[se("退回修改")]),_:1})],64))])])])])}}},Ao=Ie(Co,[["__scopeId","data-v-7569ae3b"]]);export{Ao as default};
