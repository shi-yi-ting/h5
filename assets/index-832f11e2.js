import{h as B,j as w,r as A,k as Z,t as $,d as n,q as S,s as R,v as ee,x as L,Y as J,au as te,n as C,af as ne,a1 as N,av as ae,H as V,aw as oe,z,a6 as le,l as F,ai as re,ax as K,ay as se,az as ie,B as ce,aj as ue,a9 as de,ak as fe,al as me,m as O,aA as he,aB as ve,_ as ge,N as Be,F as we,G as be,I as U,ad as M,aC as q,ac as ye,T as Se,aD as Ce,J as ke}from"./index-ea8e790e.js";import{r as Pe,u as Te,B as p}from"./index-af3b5cf1.js";import{u as xe}from"./use-placeholder-a0372669.js";const[X,j]=B("action-bar"),Q=Symbol(X),$e={placeholder:Boolean,safeAreaInsetBottom:$};var _e=w({name:X,props:$e,setup(e,{slots:l}){const a=A(),s=xe(a,j),{linkChildren:r}=Z(Q);r();const m=()=>{var d;return n("div",{ref:a,class:[j(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(d=l.default)==null?void 0:d.call(l)])};return()=>e.placeholder?s(m):m()}});const Ae=S(_e),[Re,We]=B("action-bar-button"),De=R({},Pe,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Ie=w({name:Re,props:De,setup(e,{slots:l}){const a=Te(),{parent:s,index:r}=ee(Q),m=L(()=>{if(s){const c=s.children[r.value-1];return!(c&&"isButton"in c)}}),d=L(()=>{if(s){const c=s.children[r.value+1];return!(c&&"isButton"in c)}});return J({isButton:!0}),()=>{const{type:c,icon:o,text:u,color:k,loading:P,disabled:T}=e;return n(p,{class:We([c,{last:d.value,first:m.value}]),size:"large",type:c,icon:o,color:k,loading:P,disabled:T,onClick:a},{default:()=>[l.default?l.default():u]})}}});const Y=S(Ie),[Oe,v,_]=B("dialog"),pe=R({},te,{title:String,theme:String,width:C,message:[String,Function],callback:Function,allowHtml:Boolean,className:ne,transition:N("van-dialog-bounce"),messageAlign:String,closeOnPopstate:$,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:$,closeOnClickOverlay:Boolean}),Ee=[...ae,"transition","closeOnPopstate"];var Ne=w({name:Oe,props:pe,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:l,slots:a}){const s=A(),r=V({confirm:!1,cancel:!1}),m=t=>l("update:show",t),d=t=>{var i;m(!1),(i=e.callback)==null||i.call(e,t)},c=t=>()=>{e.show&&(l(t),e.beforeClose?(r[t]=!0,ue(e.beforeClose,{args:[t],done(){d(t),r[t]=!1},canceled(){r[t]=!1}})):d(t))},o=c("cancel"),u=c("confirm"),k=oe(t=>{var i,g;if(t.target!==((g=(i=s.value)==null?void 0:i.popupRef)==null?void 0:g.value))return;({Enter:e.showConfirmButton?u:K,Escape:e.showCancelButton?o:K})[t.key](),l("keydown",t)},["enter","esc"]),P=()=>{const t=a.title?a.title():e.title;if(t)return n("div",{class:v("header",{isolated:!e.message&&!a.default})},[t])},T=t=>{const{message:i,allowHtml:g,messageAlign:h}=e,y=v("message",{"has-title":t,[h]:h}),I=se(i)?i():i;return g&&typeof I=="string"?n("div",{class:y,innerHTML:I},null):n("div",{class:y},[I])},W=()=>{if(a.default)return n("div",{class:v("content")},[a.default()]);const{title:t,message:i,allowHtml:g}=e;if(i){const h=!!(t||a.title);return n("div",{key:g?1:0,class:v("content",{isolated:!h})},[T(h)])}},D=()=>n("div",{class:[ce,v("footer")]},[e.showCancelButton&&n(p,{size:"large",text:e.cancelButtonText||_("cancel"),class:v("cancel"),style:{color:e.cancelButtonColor},loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:o},null),e.showConfirmButton&&n(p,{size:"large",text:e.confirmButtonText||_("confirm"),class:[v("confirm"),{[ie]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]),b=()=>n(Ae,{class:v("footer")},{default:()=>[e.showCancelButton&&n(Y,{type:"warning",text:e.cancelButtonText||_("cancel"),class:v("cancel"),color:e.cancelButtonColor,loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:o},null),e.showConfirmButton&&n(Y,{type:"danger",text:e.confirmButtonText||_("confirm"),class:v("confirm"),color:e.confirmButtonColor,loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]}),f=()=>a.footer?a.footer():e.theme==="round-button"?b():D();return()=>{const{width:t,title:i,theme:g,message:h,className:y}=e;return n(re,z({ref:s,role:"dialog",class:[v([g]),y],style:{width:F(t)},tabindex:0,"aria-labelledby":i||h,onKeydown:k,"onUpdate:show":m},le(e,Ee)),{default:()=>[P(),W(),f()]})}}});let E;const ze={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let Fe=R({},ze);function He(){({instance:E}=fe({setup(){const{state:l,toggle:a}=me();return()=>n(Ne,z(l,{"onUpdate:show":a}),null)}}))}function vt(e){return de?new Promise((l,a)=>{E||He(),E.open(R({},Fe,e,{callback:s=>{(s==="confirm"?l:a)(s)}}))}):Promise.resolve(void 0)}const[Le,x]=B("notice-bar"),Ke={text:String,mode:String,color:String,delay:O(1),speed:O(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var Ue=w({name:Le,props:Ke,emits:["close","replay"],setup(e,{emit:l,slots:a}){let s=0,r=0,m;const d=A(),c=A(),o=V({show:!0,offset:0,duration:0}),u=()=>{if(a["left-icon"])return a["left-icon"]();if(e.leftIcon)return n(U,{class:x("left-icon"),name:e.leftIcon},null)},k=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},P=f=>{e.mode==="closeable"&&(o.show=!1,l("close",f))},T=()=>{if(a["right-icon"])return a["right-icon"]();const f=k();if(f)return n(U,{name:f,class:x("right-icon"),onClick:P},null)},W=()=>{o.offset=s,o.duration=0,ye(()=>{q(()=>{o.offset=-r,o.duration=(r+s)/+e.speed,l("replay")})})},D=()=>{const f=e.scrollable===!1&&!e.wrapable,t={transform:o.offset?`translateX(${o.offset}px)`:"",transitionDuration:`${o.duration}s`};return n("div",{ref:d,role:"marquee",class:x("wrap")},[n("div",{ref:c,style:t,class:[x("content"),{"van-ellipsis":f}],onTransitionend:W},[a.default?a.default():e.text])])},b=()=>{const{delay:f,speed:t,scrollable:i}=e,g=Se(f)?+f*1e3:0;s=0,r=0,o.offset=0,o.duration=0,clearTimeout(m),m=setTimeout(()=>{if(!d.value||!c.value||i===!1)return;const h=M(d).width,y=M(c).width;(i||y>h)&&q(()=>{s=h,r=y,o.offset=-r,o.duration=r/+t})},g)};return he(b),ve(b),ge("pageshow",b),J({reset:b}),Be(()=>[e.text,e.scrollable],b),()=>{const{color:f,wrapable:t,background:i}=e;return we(n("div",{role:"alert",class:x({wrapable:t}),style:{color:f,background:i}},[u(),D(),T()]),[[be,o.show]])}}});const gt=S(Ue),[Me,qe]=B("skeleton-title"),je={round:Boolean,titleWidth:C};var Ye=w({name:Me,props:je,setup(e){return()=>n("h3",{class:qe([{round:e.round}]),style:{width:F(e.titleWidth)}},null)}});const Ge=S(Ye);var Je=Ge;const[Ve,Xe]=B("skeleton-avatar"),Qe={avatarSize:C,avatarShape:N("round")};var Ze=w({name:Ve,props:Qe,setup(e){return()=>n("div",{class:Xe([e.avatarShape]),style:Ce(e.avatarSize)},null)}});const et=S(Ze);var tt=et;const H="100%",nt={round:Boolean,rowWidth:{type:C,default:H}},[at,ot]=B("skeleton-paragraph");var lt=w({name:at,props:nt,setup(e){return()=>n("div",{class:ot([{round:e.round}]),style:{width:e.rowWidth}},null)}});const rt=S(lt);var st=rt;const[it,G]=B("skeleton"),ct="60%",ut={row:O(0),round:Boolean,title:Boolean,titleWidth:C,avatar:Boolean,avatarSize:C,avatarShape:N("round"),loading:$,animate:$,rowWidth:{type:[Number,String,Array],default:H}};var dt=w({name:it,inheritAttrs:!1,props:ut,setup(e,{slots:l,attrs:a}){const s=()=>{if(e.avatar)return n(tt,{avatarShape:e.avatarShape,avatarSize:e.avatarSize},null)},r=()=>{if(e.title)return n(Je,{round:e.round,titleWidth:e.titleWidth},null)},m=o=>{const{rowWidth:u}=e;return u===H&&o===+e.row-1?ct:Array.isArray(u)?u[o]:u},d=()=>Array(+e.row).fill("").map((o,u)=>n(st,{key:u,round:e.round,rowWidth:F(m(u))},null)),c=()=>l.template?l.template():n(ke,null,[s(),n("div",{class:G("content")},[r(),d()])]);return()=>{var o;return e.loading?n("div",z({class:G({animate:e.animate,round:e.round})},a),[c()]):(o=l.default)==null?void 0:o.call(l)}}});const Bt=S(dt);export{gt as N,Bt as S,vt as a,Ne as s};
